{"version":3,"sources":["helpers/baseURL.js","component/AdminDashboard/AdminComponents/AdminLogin/AdminLogin.js"],"names":["COMMON_URL","MESSAGING_URL","SESSION_URL","NOTIFICATION_URL","PAYMENT_URL","AdminLogin","connect","dispatch","bindActionCreators","loginAct","loginOrSignUp","useState","email","password","signUpType","deviceName","data","setData","error","setErrors","passwordShown","setPasswordShown","apiError","setApiError","history","useHistory","handleSubmit","e","a","preventDefault","payload","validateFields","adminApi","AuthApi","then","type","token","localStorage","setItem","push","catch","message","onChangeValue","persist","target","name","value","tempErrors","undefined","fieldInvalidList","validate","presence","allowEmpty","length","minimum","tooShort","maximum","tooLong","errors","className","onSubmit","placeholder","onChange","src","Mail","alt","Password","onClick"],"mappings":"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","file":"static/js/121.28f5f23c.chunk.js","sourcesContent":["export var COMMON_URL = \"http://doodlebluelive.com:2307\";\r\nexport var MESSAGING_URL = \"http://doodlebluelive.com:2338\";\r\nexport var SESSION_URL = \"http://doodlebluelive.com:2337\";\r\nexport var NOTIFICATION_URL = \"\";\r\nexport var PAYMENT_URL = \"http://doodlebluelive.com:2336\";\r\n","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport \"./styles.scss\";\r\n// import { useForm } from \"react-hook-form\";\r\nimport Mail from \"../../../../assets/files/SignUp/Email Icon.svg\";\r\nimport Password from \"../../../../assets/files/SignUp/Password Icon.svg\";\r\nimport { COMMON_URL } from \"helpers/baseURL\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { loginOrSignUp } from \"action/authAct\";\r\nimport { connect } from \"react-redux\";\r\nimport { AuthApi } from \"service/apiVariables\";\r\nimport validate from \"service/validation\";\r\n\r\nconst AdminLoginFC = ({ loginAct }) => {\r\n  const [data, setData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    signUpType: \"email\",\r\n    deviceName: \"email\",\r\n  });\r\n\r\n  const [error, setErrors] = useState({});\r\n  const [passwordShown, setPasswordShown] = useState(false);\r\n\r\n  const showPassword = () => {\r\n    setPasswordShown(passwordShown ? false : true);\r\n  };\r\n  const [apiError, setApiError] = useState(\"\");\r\n\r\n  const history = useHistory();\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const payload = {\r\n      email: data.email,\r\n      password: data.password,\r\n      signUpType: data.signUpType,\r\n      deviceName: data.deviceName,\r\n    };\r\n\r\n    if (!validateFields(payload)) return;\r\n\r\n    const { adminApi } = AuthApi;\r\n\r\n    setApiError(\"\");\r\n\r\n    loginAct(adminApi, payload)\r\n      .then(({ type, token }) => {\r\n        if (type === \"admin\") {\r\n          localStorage.setItem(\"admin-token\", token);\r\n          history.push(\"/admins/dashboard\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        setApiError(\"Sorry, something went wrong.\", error.message);\r\n      });\r\n\r\n    // const requestOptions = {\r\n    //   method: \"POST\",\r\n    //   headers: {\r\n    //     \"Content-Type\": \"application/json\",\r\n    //     Accept: \"application/json\",\r\n    //   },\r\n    //   body: JSON.stringify(item),\r\n    // };\r\n    // fetch(`${COMMON_URL}/v1/admin/login`, requestOptions)\r\n    //   .then(async (response) => {\r\n    //     const data = await response.json();\r\n    //     localStorage.setItem(\"admin-token\", data[\"token\"]);\r\n    //     if (response.ok) {\r\n    //     } else {\r\n    //       setApiError(\"User Not Registered\", response.statusText);\r\n    //     }\r\n    //   })\r\n    //   .catch((error) => {\r\n    //     setApiError(\"Sorry, something went wrong.\", error.message);\r\n    //   });\r\n  }\r\n  const onChangeValue = (e) => {\r\n    e.persist && e.persist();\r\n    const { name, value } = e.target || e || {};\r\n\r\n    let tempErrors = { ...error };\r\n\r\n    tempErrors[name] = undefined;\r\n    setData({ ...data, [name]: value });\r\n    setErrors({ ...error, ...tempErrors });\r\n  };\r\n\r\n  const validationRules = () => {\r\n    return {\r\n      email: {\r\n        presence: {\r\n          allowEmpty: false,\r\n          message: \"^Email is required\",\r\n        },\r\n        email: true,\r\n      },\r\n      password: {\r\n        presence: {\r\n          allowEmpty: false,\r\n          message: \"^Password is required\",\r\n        },\r\n        length: {\r\n          minimum: 8,\r\n          tooShort: \"must contain alteast 8 character\",\r\n          maximum: 12,\r\n          tooLong: \"must contain less than 12 character\",\r\n        },\r\n      },\r\n    };\r\n  };\r\n\r\n  const validateFields = (data) => {\r\n    let fieldInvalidList = validate(data, validationRules());\r\n\r\n    if (fieldInvalidList !== undefined) {\r\n      let errors = {\r\n        ...fieldInvalidList,\r\n      };\r\n\r\n      // console.log(errors);\r\n      setErrors({ ...errors, ...fieldInvalidList });\r\n    }\r\n\r\n    return !fieldInvalidList;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"outter_admin_login\">\r\n        <div className=\"container\">\r\n          <div className=\"inner_admin_login\">\r\n            <div className=\"login_wraper\">\r\n              <h2>Mottofit Admin Dashboard </h2>\r\n              <form onSubmit={handleSubmit}>\r\n                <div className=\"inner_form_loginAdmin\">\r\n                  <label>Email</label>\r\n                  <div>\r\n                    <div className=\"input_item1_signin\">\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"Email\"\r\n                        value={data.email}\r\n                        onChange={onChangeValue}\r\n                        name=\"email\"\r\n                      />\r\n                      <img src={Mail} alt=\"icon\" />\r\n                    </div>\r\n                    {error.email && (\r\n                      <span className=\"fs-14 text-danger\">\r\n                        {error.email[0]}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n\r\n                  <label>Password</label>\r\n                  <div>\r\n                    <div className=\"input_item1_signin\">\r\n                      <input\r\n                        type={passwordShown ? \"text\" : \"password\"}\r\n                        placeholder=\"Password\"\r\n                        value={data.password}\r\n                        onChange={onChangeValue}\r\n                        name=\"password\"\r\n                      />\r\n                      <img src={Password} alt=\"icon\" onClick={showPassword} />\r\n                    </div>\r\n                    {error.password && (\r\n                      <span className=\"fs-14 text-danger\">\r\n                        {error.password[0]}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  {apiError && <span className=\"errorMessage\">{apiError}</span>}\r\n                  <button type=\"submit\" onClick={handleSubmit}>\r\n                    Login\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      loginAct: loginOrSignUp,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nconst AdminLogin = connect(null, mapDispatchToProps)(AdminLoginFC);\r\n\r\nexport default AdminLogin;\r\n"],"sourceRoot":""}