(this.webpackJsonpmotto=this.webpackJsonpmotto||[]).push([[13,231],{289:function(e,t,n){"use strict";n.r(t);var c=n(4),a=n(61),s=n.n(a),r=n(85),i=n(13),l=n(2),o=n(906),d=(n(549),n(81)),j=n(8),b=n(14),u=n(84),m=n(83),p=n(32),h=n(42),x=n(38),f=n(1272),O=n.n(f),y=n(1);var v=Object(h.b)(null,(function(e){return Object(p.b)({updateUserDetails:m.updateUserDetails},e)}))((function(e){var t,n,a,m=e.updateUserDetails,p=e.agreedToTerms,h=e.handleChange,f=e.ScheduleSession,v=Object(o.useStripe)(),C=Object(o.useElements)(),_=(Object(l.useMemo)((function(){return{style:{base:{color:"#424770",letterSpacing:"0.025em",fontFamily:"Source Code Pro, monospace","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})),Object(l.useState)(!1)),g=Object(i.a)(_,2),N=g[0],k=g[1],S=Object(l.useState)({}),E=Object(i.a)(S,2),P=E[0],D=E[1],M=Object(l.useState)(!0),T=Object(i.a)(M,2),w=T[0],z=T[1];Object(l.useEffect)((function(){R()}),[]);var F=function(){var e=Object(r.a)(s.a.mark((function e(t){var n,c,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),w){e.next=3;break}return e.abrupt("return",f());case 3:if(v&&C){e.next=5;break}return e.abrupt("return");case 5:return n=C.getElement(o.CardNumberElement),e.next=8,v.createPaymentMethod({type:"card",card:n});case 8:c=e.sent,a=c.error,r=c.paymentMethod,a?console.log("[error]",a):console.log("[PaymentMethod]",r),v.createToken(n).then((function(e){var t=e.token;U(t.id)}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(e){var t=b.PaymentApi.addCardDetails,n={cardToken:e,setDefault:N};t.body=n,Object(u.api)(Object(c.a)({},t)).then((function(e){var t=e.data;console.log(t),Object(x.Toast)({type:"success",message:"Card details added"}),f(),R()})).catch((function(e){Object(x.Toast)({type:"error",message:e.message||"Error"}),console.log(e)}))},R=function(){var e=b.PaymentApi.getPaymentMethods;Object(u.api)(Object(c.a)({},e)).then((function(e){var t=e.data,n=((void 0===t?[]:t)||[]).filter((function(e){return e.default}));if(n.length>0){D(n[0]),z(!1);var c={defaulCardDetails:n[0]};console.log(c),m(c)}})).catch((function(e){console.log(e)}))};return Object(y.jsx)("div",{children:Object(y.jsxs)("form",{onSubmit:F,className:"Card",children:[Object(y.jsxs)("div",{className:"payment_input_inner",children:[Object(y.jsx)("label",{children:"Card Number"}),w?Object(y.jsx)(o.CardNumberElement,{options:{hidePostalCode:!0,style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#898989",fontFamily:"Montserrat",fontSize:"16px"}},invalid:{color:"#9e2146"}}}}):Object(y.jsx)("p",{className:"fs-20",children:"**** **** **** ".concat((null===P||void 0===P||null===(t=P.card)||void 0===t?void 0:t.last4)||"****")}),Object(y.jsxs)("div",{className:"payment_expire_input",children:[Object(y.jsx)("div",{className:"payment_expire_inner",children:Object(y.jsxs)("label",{children:["Expiry Date",w?Object(y.jsx)(o.CardExpiryElement,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#898989",fontFamily:"Montserrat",fontSize:"16px"}},invalid:{color:"#9e2146"}}}}):Object(y.jsx)("p",{className:"fs-20",children:"".concat((null===P||void 0===P||null===(n=P.card)||void 0===n?void 0:n.exp_month)||"","/").concat((null===P||void 0===P||null===(a=P.card)||void 0===a?void 0:a.exp_year)||"")})]})}),Object(y.jsx)("div",{className:"payment_expire_inner",children:w&&Object(y.jsxs)("label",{children:["CVC/CVV",Object(y.jsx)(o.CardCvcElement,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#898989",fontFamily:"Montserrat",fontSize:"16px"}},invalid:{color:"#9e2146"}}}})]})})]}),P.default&&Object(y.jsx)(y.Fragment,{children:w?Object(y.jsx)("div",{className:"payment_change d-flex justify-content-end",children:Object(y.jsx)("button",{className:"link-btn",onClick:function(){return z(!1)},children:"Reset Card"})}):Object(y.jsx)("div",{className:"payment_change d-flex justify-content-end",children:Object(y.jsx)("button",{className:"link-btn",onClick:function(){return z(!0)},children:"Edit Card"})})}),w&&Object(y.jsxs)("div",{className:"payment_input_check mt-3",children:[Object(y.jsxs)("div",{className:"payment_check_inner",children:[Object(y.jsx)("input",{type:"checkbox",checked:N,onChange:function(){return k(!N)},id:"remember_card"}),Object(y.jsx)("label",{for:"remember_card",children:"Remember My Card Details"})]}),Object(y.jsx)("div",{className:"payment_check_inner",children:Object(y.jsx)(j.a,{to:"/",children:"Session Cancellation Policy"})})]})]}),Object(y.jsx)("div",{className:"payment_input_outter_check ",children:Object(y.jsxs)("div",{className:"payment_terms",children:[Object(y.jsx)("input",{type:"checkbox",style:{width:"20px",marginRight:"10px"},onChange:h,checked:p}),Object(y.jsxs)("label",{children:["By proceeding, you accept the latest versions of our"," ",Object(y.jsx)(j.a,{to:"/",children:"Terms of Use"})," and"," ",Object(y.jsx)(j.a,{to:"/",children:"Privacy Policy"})]})]})}),Object(y.jsx)("div",{className:"disclaimer",children:Object(y.jsxs)("p",{className:"text-info",children:[Object(y.jsx)(O.a,{}),Object(y.jsx)("span",{children:"Payment will happen only after the session is completed."})]})}),Object(y.jsx)("div",{className:"submit",children:Object(y.jsxs)("button",{type:"click",className:"".concat(p?"":"disable-btn"),disabled:!p,onClick:F,children:["Continue ",Object(y.jsx)(d.default,{})]})})]})})}));t.default=v},549:function(e,t,n){}}]);
//# sourceMappingURL=13.405d387c.chunk.js.map