(this.webpackJsonpmotto=this.webpackJsonpmotto||[]).push([[89,110,246],{154:function(e,s,t){"use strict";t.r(s),t.d(s,"ErrorComponent",(function(){return r}));t(2);var a=t(1),r=function(e){var s=e.message;return Object(a.jsx)("span",{className:"text-danger",style:{fontSize:"16px"},children:s||"Error in field"})}},187:function(e,s,t){"use strict";t.r(s);var a=t(36),r=t(5),n=t(11),o=t(2),c=(t(614),t(7),t(156)),i=t(110),d=t(79),u=t(30),w=t(25),l=t(112),j=t(154),m=t(6),p=t(38),b=t(23),O=t(1),f=Object(u.b)(null,(function(e){return Object(w.b)({changePasswordAct:d.changePasswordAct},e)}))((function(e){var s=Object(o.useState)(!1),t=Object(n.a)(s,2),d=t[0],u=t[1],w=Object(o.useState)(!1),f=Object(n.a)(w,2),h=f[0],g=f[1],P=Object(o.useState)({password:"",newPassword:"",confirmPassword:""}),x=Object(n.a)(P,2),v=x[0],y=x[1],C=Object(o.useState)({}),N=Object(n.a)(C,2),S=N[0],A=N[1],E=function(e){var s=Object(l.default)(e,function(){var e={format:{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!_#%*?&])[A-Za-z\d@_#$!%*?&]*$/,flags:"i",message:"^Password must contain at least one uppercase letter, one lowercase letter, one number and one special character"},length:{minimum:8,tooShort:"must contain alteast 8 character",maximum:12,tooLong:"must contain less than 12 character"}};return{password:Object(r.a)({presence:{allowEmpty:!1,message:"^Password is required"}},e),newPassword:Object(r.a)({presence:{allowEmpty:!1,message:"^New password is required"}},e),confirmPassword:Object(r.a)({presence:{allowEmpty:!1,message:"^Confirm password is required"},equality:{attribute:"newPassword",message:"^Passwords doesn't match",comparator:function(e,s){return JSON.stringify(e)===JSON.stringify(s)}}},e)}}());if(void 0!==s){var t=Object(r.a)({},s);A(Object(r.a)(Object(r.a)({},t),s))}return!s},k=function(){g(!h)},_=function(e){e.persist();var s=e.target||e||{},t=s.name,n=s.value,o=Object(r.a)({},S);o[t]=void 0,y(Object(r.a)(Object(r.a)({},v),{},Object(a.a)({},t,n))),A(Object(r.a)(Object(r.a)({},S),o))};return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"password_main",children:[Object(O.jsx)("div",{className:"password_heading",children:Object(O.jsx)("h2",{children:"Password Change"})}),Object(O.jsx)("div",{className:"password_form",children:Object(O.jsxs)("form",{onSubmit:function(s){s.preventDefault();var t={password:v.password,newPassword:v.newPassword},a={password:v.password,newPassword:v.newPassword,confirmPassword:v.confirmPassword},r=e.location.pathname,n="users"===(void 0===r?"":r).split("/")[1]?m.AuthApi.changePasswordUser:m.AuthApi.changePasswordTrainer;E(a)&&e.changePasswordAct(t,n).then((function(){Object(p.Toast)({type:"success",message:"Password change success. Please log back in"}),setTimeout((function(){Object(b.logout)()}),2e3)})).catch((function(e){return Object(p.Toast)({type:"error",message:e.message||"Error"})}))},children:[Object(O.jsxs)("div",{className:"newPassword",children:[Object(O.jsx)("input",{type:d?"text":"password",placeholder:"Old Password",value:v.password,onChange:function(e){return _(e)},name:"password"}),Object(O.jsx)("img",{src:c.default,alt:"icon",onClick:function(){u(!d)},style:{cursor:"pointer"}})]}),S.password&&Object(O.jsx)(j.ErrorComponent,{message:S.password[0]}),Object(O.jsxs)("div",{className:"newPassword",children:[Object(O.jsx)("input",{type:h?"text":"password",placeholder:"New Password",value:v.newPassword,onChange:function(e){return _(e)},name:"newPassword"}),Object(O.jsx)("img",{src:c.default,alt:"icon",onClick:k,style:{cursor:"pointer"}})]}),S.newPassword&&Object(O.jsx)(j.ErrorComponent,{message:S.newPassword[0]}),Object(O.jsxs)("div",{className:"newPassword",children:[Object(O.jsx)("input",{type:h?"text":"password",placeholder:"Confirm New Password",value:v.confirmPassword,onChange:function(e){return _(e)},name:"confirmPassword"}),Object(O.jsx)("img",{src:c.default,alt:"icon",onClick:k,style:{cursor:"pointer"}})]}),S.confirmPassword&&Object(O.jsx)(j.ErrorComponent,{message:S.confirmPassword[0]}),Object(O.jsxs)("button",{type:"submit",children:["Submit ",Object(O.jsx)(i.default,{})]})]})})]})})})}));s.default=f},614:function(e,s,t){}}]);