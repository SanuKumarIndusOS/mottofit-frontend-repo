(this.webpackJsonpmotto=this.webpackJsonpmotto||[]).push([[29,288,383,384,479],{213:function(e,t,s){"use strict";s.r(t);var n=s(60),a=s(109),i=s(36),c=s(5),o=s(11),r=s(2),l=s.n(r),d=(s(667),s(826)),j=(s(824),s(467)),u=s(473),b=s(67),v=s(471),O=s(68),h=s(7),m=(s(268),s(43)),p=s(30),x=s(25),f=s(111),g=s(38),S=s(113),N=s(6),_=s(47),y=s(78),T=s(19),w=s(1),D=function(e){var t=e.tabname,s=e.tabData,a=e.prevData,i=e.cancelSessionApi,d=e.invitationApi,v=e.handleChange,m=void 0===v?{}:v,p=e.isDefaultCardPresent,x=e.handlePagination,S=(e.pageSize,e.documentSize),N=Object(n.a)(e,["tabname","tabData","prevData","cancelSessionApi","invitationApi","handleChange","isDefaultCardPresent","handlePagination","pageSize","documentSize"]),y=Object(r.useState)([10]),T=Object(o.a)(y,2),D=(T[0],T[1],Object(r.useState)(!1)),C=Object(o.a)(D,2),A=C[0],I=C[1],F=function(e,t,s){var n={sessionId:e,acceptance:t};if(I(!0),!p&&t&&!s){h.history.push({pathname:"/users/dashboard/settings/profile"});var a={currentAcceptedInvitationId:e};return null===N||void 0===N||N.updateUserDetails(a),Object(g.Toast)({type:"info",message:"User needs to add default card to proceed futher"})}d(n).then((function(){I(!1),m(),Object(g.Toast)({type:"success",message:"success"})})).catch((function(e){I(!1),Object(g.Toast)({type:"error",message:e.message||"Error"})}))},U=function(e){var t="".concat(window.location.host),s="".concat(window.location.protocol),n="".concat(s,"//").concat(t,"/").concat("trainer/profile/").concat(e);e&&window.open(n)};return Object(w.jsxs)("div",{className:"tabPanel_overview",children:[Object(w.jsx)("div",{className:"tabPanel_overview_left",children:Object(w.jsxs)("div",{className:"TP_overview_wrapper",children:[Object(w.jsxs)("h3",{style:{textTransform:"capitalize"},children:[t," Sessions"]}),Object(w.jsxs)("div",{className:"TP_US_overview",children:[Object(w.jsx)("div",{className:"TP_US_overview_inner",children:s.length>0?null===s||void 0===s?void 0:s.map((function(e,s){var n;return Object(w.jsxs)(l.a.Fragment,{children:[Object(w.jsxs)("div",{className:"TP_upcomeSession_overview",children:[Object(w.jsx)("div",{className:"TP_USession_dates",children:Object(w.jsxs)("h4",{children:[e.sessionDate.substr(8,2),Object(w.jsx)("span",{children:P[e.sessionDate.substr(5,2)]})]})}),Object(w.jsxs)("div",{className:"TP_USession_data",children:[Object(w.jsxs)("h2",{style:{textTransform:"capitalize"},children:[null===e||void 0===e?void 0:e.activity,"\xa0",Object(w.jsx)("span",{style:{textTransform:"lowerCase"},children:"with"})," ","\xa0",Object(w.jsx)("h2",{style:{textTransform:"capitalize"},children:null===e||void 0===e||null===(n=e.trainerDetail)||void 0===n?void 0:n.firstName})]}),Object(w.jsxs)("div",{className:"TP_USession_data_icons",children:[Object(w.jsxs)("h5",{children:[Object(w.jsx)("img",{src:j.default,alt:"icon"}),Object(f.getFormatDate)(e.sessionStartTime,"LT",!0)]}),Object(w.jsxs)("h5",{children:[Object(w.jsx)("img",{src:u.default,alt:"icon"}),((null===e||void 0===e?void 0:e.venue.charAt(0).toUpperCase())+(null===e||void 0===e?void 0:e.venue.slice(1))).replace(/([A-Z])/g," $1").trim()]})]}),"OnGoing"!==t&&Object(w.jsxs)("div",{className:"TP_USession_data_buttons",children:["Invited"===t?Object(w.jsxs)(w.Fragment,{children:[e.acceptance?Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("span",{className:"text-black mr-4",children:"completed"===e.sessionStatus?Object(w.jsx)("div",{style:{color:"red"},children:Object(w.jsx)("u",{children:"Completed"})}):"cancelled"===e.sessionStatus?Object(w.jsx)("div",{style:{color:"red"},children:Object(w.jsx)("u",{children:"Cancelled"})}):Object(w.jsx)("div",{children:" Invited session"})})}):Object(w.jsx)(w.Fragment,{children:"cancelled"!==e.sessionStatus?Object(w.jsx)(w.Fragment,{children:"Previous"!==t?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("button",{disabled:A,onClick:function(){return F(e.id,!1)},children:"Decline"}),Object(w.jsx)("button",{disabled:A,onClick:function(){return F(e.id,!0,e.paidByUser)},className:"text-success",children:"Accept"})]}):null}):"completed"===e.sessionStatus?Object(w.jsx)("div",{style:{color:"red"},children:Object(w.jsx)("u",{children:"Completed"})}):"cancelled"===e.sessionStatus?Object(w.jsx)("div",{style:{color:"red"},children:Object(w.jsx)("u",{children:"Cancelled"})}):Object(w.jsx)("div",{children:" Invited session"})}),Object(w.jsx)("button",{disabled:A,onClick:function(){return U(e.trainerId)},className:"text-primary",children:"View Trainer"})]}):Object(w.jsx)(w.Fragment,{children:"completed"===e.sessionStatus?Object(w.jsx)("button",{className:"text-primary",disabled:!0,children:"Completed"}):Object(w.jsx)(w.Fragment,{children:e.asFriend?Object(w.jsxs)("div",{className:"d-flex align-items-center",children:[Object(w.jsx)("span",{className:"text-black mr-4",children:"Invited session"}),Object(w.jsx)("button",{disabled:A,onClick:function(){return U(e.trainerId)},className:"text-primary",children:"View Trainer"})]}):Object(w.jsx)(w.Fragment,{children:"cancelled"!==e.sessionStatus?Object(w.jsx)(w.Fragment,{children:"Previous"!==t?Object(w.jsx)("button",{disabled:A,onClick:function(){return function(e){var t={sessionId:e,sessionStatus:"cancelled"};I(!0),console.log(e),i(t).then((function(e){I(!1),Object(g.Toast)({type:"success",message:(null===e||void 0===e?void 0:e.message)||"success"}),m()})).catch((function(e){I(!1),console.log(e)}))}(e.id)},children:"Cancel"}):""}):Object(w.jsx)("button",{className:"text-danger",disabled:!0,children:"Cancelled"})})})}),0===(null===e||void 0===e?void 0:e.participantsCount)?"1on1"!==e.trainingType&&!e.asFriend&&"Previous"!==t&&Object(w.jsxs)("div",{className:"button_boarder",children:[Object(w.jsxs)("button",{onClick:function(){return function(e){var t="";"social"===e.trainingType?t="SOCIAL SESSION":"class"===e.trainingType?t="CREATE A CLASS":"1on1"===e.trainingType&&(t="1 ON 1 TRAINING");var s={location:{label:(null===e||void 0===e?void 0:e.city)||"",value:(null===e||void 0===e?void 0:e.city)||""},trainingVenue:{label:"clientLocation"===e.venue?"Your Location":"Trainer's Location",value:(null===e||void 0===e?void 0:e.venue)||""},preferedTrainingMode:(null===e||void 0===e?void 0:e.sessionType)||"",price:e.price||"",sessionType:t||"",trainingType:{label:(null===e||void 0===e?void 0:e.activity)||"",value:(null===e||void 0===e?void 0:e.activity)||""}},n={bookingData:{start_slot:e.sessionStartTime,end_slot:e.sessionEndTime,date:e.sessionDate},sessionData:s,selectedTrainerData:Object(c.a)({},e.trainerDetail),submittedData:Object(c.a)({},e)};null===N||void 0===N||N.updateUserDetails(n),h.history.push({pathname:"/user/with-friends"})}(e)},children:["Add Friends"," "]}),Object(w.jsx)("img",{src:O.default,alt:"icon"})]}):null]})]})]}),Object(w.jsx)("hr",{})]},s)})):Object(w.jsx)("h3",{className:"my-5 py-5 text-center",children:"No  ".concat(t," Session")})}),(null===s||void 0===s?void 0:s.length)<S&&Object(w.jsxs)("button",{onClick:x,className:"viewMoreButton",children:["View all Session ",Object(w.jsx)(b.default,{})]})]})]})}),Object(w.jsx)("div",{className:"tabPanel_overview_right",children:Object(w.jsx)("div",{className:"TB_overview_right",children:Object(w.jsx)("div",{className:"TB_overview_row_two",children:Object(w.jsxs)("div",{className:"row_two_data",children:[Object(w.jsx)("h2",{children:"PREVIOUS SESSIONS"}),Object(w.jsx)("div",{className:"row_two_scroll",children:null===a||void 0===a?void 0:a.map((function(e,t){var s,n,a,i={profilePicture:null===e||void 0===e||null===(s=e.trainerDetail)||void 0===s?void 0:s.profilePicture,userName:"".concat((null===e||void 0===e||null===(n=e.trainerDetail)||void 0===n?void 0:n.firstName)||""," ").concat((null===e||void 0===e||null===(a=e.trainerDetail)||void 0===a?void 0:a.lastName)||"")};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"row_previous_data",children:[Object(w.jsx)("div",{className:"row_previous_avater ml-2",children:Object(w.jsx)(_.UserAvatar,Object(c.a)(Object(c.a)({},i),{},{className:"img-md-2"}))}),Object(w.jsxs)("div",{className:"row_previous_header",children:[Object(w.jsxs)("h2",{className:"d-flex flex-wrap",style:{textTransform:"capitalize"},children:[e.activity,"\xa0",Object(w.jsx)("span",{style:{textTransform:"lowerCase"},children:"with"})," ","\xa0",Object(w.jsx)("h2",{className:"d-flex flex-wrap",style:{textTransform:"capitalize"},children:e.trainerDetail.firstName})]}),Object(w.jsx)("p",{children:"".concat(e.sessionDate.substr(8,2)," ").concat(P[e.sessionDate.substr(5,2)]," ").concat(e.sessionDate.substr(0,4))})]})]},t),Object(w.jsx)("hr",{})]})}))})]})})})})]})},P=(j.default,u.default,v.default,j.default,u.default,v.default,j.default,u.default,v.default,j.default,u.default,v.default,j.default,u.default,v.default,{"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"}),C=Object(p.b)(null,(function(e){return Object(x.b)({userSession:m.userSession,cancelSession:m.cancelSession,invitationSession:m.invitationSession,updateUserDetails:m.updateUserDetails},e)}))((function(e){var t,s=l.a.useState({upcomingSessions:[],pastSessions:[],onGoingSessions:[],invitedSessions:[]}),n=Object(o.a)(s,2),j=n[0],u=n[1],b=Object(r.useState)({upcoming:0,past:0,invited:0}),v=Object(o.a)(b,2),O=v[0],h=v[1],m=Object(r.useState)({upcoming:0,past:0,invited:0}),p=Object(o.a)(m,2),x=p[0],f=p[1],_=Object(r.useState)(!1),P=Object(o.a)(_,2),C=P[0],A=P[1],I=Object(r.useState)(!0),F=Object(o.a)(I,2),U=F[0],z=F[1],k=Object(r.useState)("upcoming"),E=Object(o.a)(k,2),L=E[0],M=E[1],J=Object(T.g)();Object(r.useEffect)((function(){var e;V(),window.scrollTo(0,0),"invite"===(null===(e=J.state)||void 0===e?void 0:e.from)&&G("invited")}),[]);var G=function(t){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.userSession(t,O[L]).then((function(e){var n=e.data,o=e.documentCount,r=n||[],l=o||0,d={invited:"invitedSessions",upcoming:"upcomingSessions",past:"pastSessions"};f((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(i.a)({},t,l))})),u((function(e){var n=[].concat(Object(a.a)(e[d[t]]),Object(a.a)(r));return Object(c.a)(Object(c.a)({},e),{},Object(i.a)({},d[t],s?n:Object(a.a)(r)))})),z(!1)})).catch((function(e){Object(g.Toast)({type:"error",message:e.message||"Error"}),z(!1)}))},V=function(){var e=N.PaymentApi.getPaymentMethods;Object(S.api)(Object(c.a)({},e)).then((function(e){var t=(e.data[0]||{}).default;A(t)}))},B=function(){h((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(i.a)({},L,e[L]+1||0))}))};return Object(r.useEffect)((function(){G(L,!0)}),[O]),Object(w.jsx)("div",{className:"outter_user_container",children:Object(w.jsx)("div",{className:"container",children:Object(w.jsxs)("div",{className:"inner_user_container ",children:[Object(w.jsx)("div",{className:"userSession_heading",children:Object(w.jsx)("h2",{children:"My Session"})}),Object(w.jsx)("div",{className:"US_tabs_wrapper",children:Object(w.jsxs)(d.d,{defaultTab:"invite"===(null===(t=J.state)||void 0===t?void 0:t.from)?"invited":"upcoming",onChange:function(e){!function(e,t){var s={invited:"invitedSessions",upcoming:"upcomingSessions",past:"pastSessions"}[e];M(e),u((function(t){var n;return(null===(n=t[s])||void 0===n?void 0:n.length)>0||(z(!0),G(e)),t}))}(e)},children:[Object(w.jsxs)(d.b,{children:[Object(w.jsx)(d.a,{tabFor:"upcoming",children:"Upcoming"}),Object(w.jsx)(d.a,{tabFor:"invited",children:"Invited"}),Object(w.jsx)(d.a,{tabFor:"past",children:"Previous"})]}),Object(w.jsx)("div",{className:"tabPanel_outter",children:Object(w.jsx)(d.c,{tabId:"invited",children:U?Object(w.jsx)(y.CommonPageLoader,{}):Object(w.jsx)(D,Object(c.a)({tabname:"Invited",tabData:j.invitedSessions,prevData:j.pastSessions,cancelSessionApi:e.cancelSession,invitationApi:e.invitationSession,handleChange:function(){return G("invited")},isDefaultCardPresent:C,handlePagination:B,pageSize:O.invited,documentSize:x.invited},e))})}),Object(w.jsx)("div",{className:"tabPanel_outter",children:Object(w.jsx)(d.c,{tabId:"upcoming",children:U?Object(w.jsx)(y.CommonPageLoader,{}):Object(w.jsx)(D,Object(c.a)({tabname:"Upcoming",tabData:j.upcomingSessions,prevData:j.pastSessions,cancelSessionApi:e.cancelSession,handleChange:function(){return G("upcoming")},handlePagination:B,pageSize:O.upcoming,documentSize:x.upcoming},e))})}),Object(w.jsx)("div",{className:"tabPanel_outter",children:Object(w.jsx)(d.c,{tabId:"pass",children:Object(w.jsx)(D,Object(c.a)({tabname:"Moto Pass",tabData:j.pastSessions,prevData:j.pastSessions,cancelSessionApi:e.cancelSession,handleChange:function(){return G()}},e))})}),Object(w.jsx)("div",{className:"tabPanel_outter",children:Object(w.jsx)(d.c,{tabId:"past",children:U?Object(w.jsx)(y.CommonPageLoader,{}):Object(w.jsx)(D,Object(c.a)({tabname:"Previous",tabData:j.pastSessions,prevData:j.pastSessions,cancelSessionApi:e.cancelSession,handleChange:function(){return G("past")},handlePagination:B,pageSize:O.past,documentSize:x.past},e))})}),Object(w.jsx)("div",{className:"tabPanel_outter",children:Object(w.jsx)(d.c,{tabId:"ongoing",children:Object(w.jsx)(D,Object(c.a)({tabname:"OnGoing",tabData:j.onGoingSessions,prevData:j.pastSessions,cancelSessionApi:e.cancelSession,handleChange:function(){return G()},handlePagination:B},e))})})]})})]})})})}));t.default=C},467:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/Availability Icon.ad0517cb.svg"},471:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/Jenny.c50273b9.png"},473:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/Location Icon.cbb0b32d.svg"},667:function(e,t,s){}}]);