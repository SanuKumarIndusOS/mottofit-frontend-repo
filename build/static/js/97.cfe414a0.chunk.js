(this.webpackJsonpmotto=this.webpackJsonpmotto||[]).push([[97,229],{159:function(e,t,s){"use strict";s.r(t);var a=s(12),n=s.n(a),c=s(26),i=s(32),r=s(4),l=s(11),o=s(2),j=(s(572),s(135)),u=s(132),d=s(8),b=s(91),m=(s(127),s(57)),p=s(9),h=s(23),O=s(27),x=s(68),g=s(66),f=s(5),v=s(95),N=s(40),_=s(35),w=(s(83),s(69)),y=s(1),S=Object(O.b)((function(e){return{nextAction:e.userReducer.nextAction}}),(function(e){return Object(h.b)({loginAct:x.loginOrSignUp,trainerDetail:g.trainerDetail,updateUserDetails:N.updateUserDetails},e)}))((function(e){var t=e.loginAct,s=e.trainerDetail,a=e.updateUserDetails,h=e.nextAction,O=(Object(o.useRef)(null),Object(o.useState)({email:"",password:"",signUpType:"email",deviceName:"email"})),x=Object(l.a)(O,2),g=x[0],N=x[1],S=Object(o.useState)({}),k=Object(l.a)(S,2),A=k[0],U=k[1],D=Object(o.useState)(!1),P=Object(l.a)(D,2),R=P[0],T=P[1],C=Object(o.useState)(""),E=Object(l.a)(C,2),M=E[0],$=(E[1],Object(o.useState)(!1)),q=Object(l.a)($,2),z=q[0],F=q[1],J=function(e){e.persist();var t=e.target||{},s=t.name,a=t.value,n=Object(r.a)({},A);n[s]=void 0,N(Object(r.a)(Object(r.a)({},g),{},Object(i.a)({},s,a))),U(Object(r.a)(Object(r.a)({},A),n))};function L(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(c.a)(n.a.mark((function e(i){var r,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.preventDefault(),r={email:g.email,password:g.password,signUpType:g.signUpType,deviceName:g.deviceName},B(r)){e.next=4;break}return e.abrupt("return");case 4:l=p.AuthApi.loginApi,F(!0),t(l,r).then(function(){var e=Object(c.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.setItem("user-id",t.id),a({isModelOpen:!1}),console.log("log1"),!Object(f.nextPathReRouter)(h)){e.next=6;break}return e.abrupt("return");case 6:console.log("log1"),"trainer"===t.type?s().then((function(e){null===e.applicationStatus?(F(!1),f.history.push("/trainer/about")):(F(!1),f.history.push("/trainers/dashboard/schedule"))})):(F(!1),f.history.push("/users/dashboard/session"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){F(!1),Object(_.Toast)({type:"error",message:e.message||"Error"})}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=function(e){var t=Object(v.default)(e,{email:{presence:{allowEmpty:!1,message:"^Email is required"},email:!0},password:{presence:{allowEmpty:!1,message:"^Password is required"},format:{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!_#%*?&])[A-Za-z\d@_#$!%*?&]*$/,flags:"i",message:"^Password must contain at least one uppercase letter, one lowercase letter, one number and one special character"},length:{minimum:8,tooShort:"must contain alteast 8 character",maximum:12,tooLong:"must contain less than 12 character"}}});if(void 0!==t){var s=Object(r.a)({},t);U(Object(r.a)(Object(r.a)({},s),t))}return!t};return Object(y.jsx)("div",{className:"mobile_login",children:Object(y.jsxs)("div",{className:"outter_container",children:[Object(y.jsx)("div",{className:"inner_container"}),Object(y.jsx)("div",{className:"wrapper_inner",children:z?Object(y.jsx)("div",{className:"load_parent",style:{paddingBottom:"500px"},children:Object(y.jsx)("div",{className:"loaderss"})}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{children:"Welcome to Motto!"}),Object(y.jsx)("p",{children:"Sign into your account by filling in the details below"}),Object(y.jsx)("div",{className:"form_item_login",children:Object(y.jsxs)("form",{onSubmit:L,children:[Object(y.jsxs)("div",{className:"input_item1_signin",children:[Object(y.jsx)("input",{placeholder:"Email",type:"email",value:g.email,name:"email",onChange:J}),Object(y.jsx)("img",{src:j.default,alt:"icon"}),A.email&&Object(y.jsx)("span",{children:A.email[0]})]}),Object(y.jsxs)("div",{className:"input_item1_signin",children:[Object(y.jsx)("input",{placeholder:"Password",type:R?"text":"password",value:g.password,onChange:J,name:"password"}),Object(y.jsx)("img",{src:u.default,alt:"icon",onClick:function(){T(!R)}}),A.password&&Object(y.jsx)("span",{children:A.password[0]})]}),Object(y.jsxs)("div",{className:"remember_container",children:[Object(y.jsxs)("div",{className:"remember_left",children:[Object(y.jsx)("input",{className:"check",type:"checkbox",value:"lsRememberMe",id:"rememberMe"})," ",Object(y.jsx)("label",{children:"Remember me"})]}),Object(y.jsx)("div",{className:"forgotpass_right",children:Object(y.jsx)(d.a,{to:"/forgot",className:"forgotpass",children:"Forgot Password?"})})]}),M&&Object(y.jsx)("span",{className:"errorMessage",children:M}),Object(y.jsxs)("div",{className:"or_items",children:[Object(y.jsx)("div",{className:"hr_line"}),Object(y.jsx)("div",{children:Object(y.jsx)("p",{children:"or"})}),Object(y.jsx)("div",{className:"hr_line"})]}),Object(y.jsx)("div",{className:"social_buttons",children:Object(y.jsx)(w.SocialLogin,{loginType:"login",nextAction:h})}),Object(y.jsx)("div",{className:"submit_button",children:Object(y.jsxs)("button",{className:"login_button",type:"submit",onClick:L,children:["Signin",Object(y.jsx)(b.default,{})]})})]})}),Object(y.jsxs)("div",{className:"login_items",children:[Object(y.jsx)("h4",{children:"Don't have an account yet?"}),Object(y.jsxs)("div",{className:"links_item_signup",children:[Object(y.jsxs)(d.a,{onClick:function(e){e.preventDefault(),e.stopPropagation(),Object(f.nextPathPusher)("/user/signup")},children:["User Sign Up",Object(y.jsx)(m.default,{})]}),Object(y.jsxs)(d.a,{to:"/trainer/signup",children:["Trainer Sign Up",Object(y.jsx)(m.default,{})]})]})]})]})})]})})}));t.default=S},572:function(e,t,s){}}]);