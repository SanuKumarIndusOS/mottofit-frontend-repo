(this.webpackJsonpmotto=this.webpackJsonpmotto||[]).push([[18,80,90,125,142,217,260,351,352,353,446,447],{1001:function(e,t){},121:function(e,t,n){"use strict";n.r(t),n.d(t,"CommonPageLoaderClass",(function(){return d})),n.d(t,"CommonPageLoader",(function(){return j}));var a=n(22),s=n(23),i=n(27),c=n(26),r=n(2),l=n(33),o=(n(424),n(1)),d=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.isSpinningLoader,t=void 0!==e&&e;return Object(o.jsx)(o.Fragment,{children:t?Object(o.jsxs)("div",{className:"lds-spinner",children:[Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{})]}):Object(o.jsx)("div",{className:"loader",children:Object(o.jsx)("div",{className:"loader-circle"})})})}}]),n}(r.Component),u=d,j=Object(l.b)(null,null)(u)},165:function(e,t,n){"use strict";n.r(t);var a=n(4),s=n(85),i=n(13),c=n(2),r=n(735),l=(n(734),n(579),n(399),n(428),n(455),n(401),n(405),n(54),n(63)),o=n(33),d=n(21),u=(n(16),n(87),n(37)),j=n(299),m=n(277),h=n(86),g=n(40),b=n(121),v=n(1),p=(n(847),Object(o.b)((function(e){return{clientData:e.messagingReducer.clientData,activeChannel:e.messagingReducer.activeChannel,activeChannelMessages:e.messagingReducer.activeChannelMessages,typingMembers:e.messagingReducer.typingMembers,chatClientInstance:e.messagingReducer.chatClientInstance,socialMessages:e.messagingReducer.socialMessages,individualMessages:e.messagingReducer.individualMessages,adminMessages:e.messagingReducer.adminMessages,allMessages:e.messagingReducer.allMessages}}),(function(e){return Object(d.b)({trainerChannel:l.trainerChannel,initClientDispatch:m.initClientDispatch,updateMessagingDetails:m.updateMessagingDetails},e)}))((function(e){var t=e.trainerChannel,n=e.initClientDispatch,l=(e.clientData,e.activeChannel,e.activeChannelMessages,e.typingMembers,e.chatClientInstance),o=e.updateMessagingDetails,d=e.socialMessages,m=e.individualMessages,p=e.adminMessages,f=e.allMessages,O=Object(c.useState)([]),x=Object(i.a)(O,2),y=(x[0],x[1]),M=Object(c.useState)([]),C=Object(i.a)(M,2),_=(C[0],C[1]),N=Object(c.useState)([]),T=Object(i.a)(N,2),D=(T[0],T[1]),S=Object(c.useState)([]),A=Object(i.a)(S,2),I=(A[0],A[1],Object(c.useState)()),E=Object(i.a)(I,2),L=(E[0],E[1],Object(c.useState)([])),k=Object(i.a)(L,2),w=(k[0],k[1],Object(c.useState)([])),P=Object(i.a)(w,2),R=(P[0],P[1],Object(c.useState)("")),U=Object(i.a)(R,2),G=(U[0],U[1],Object(c.useState)("")),F=Object(i.a)(G,2),Y=(F[0],F[1],Object(c.useState)(!0)),B=Object(i.a)(Y,2),J=B[0],q=B[1];Object(c.useEffect)((function(){return n(),H(),function(){l&&l.removeChatClient()}}),[]);var H=function(){t().then((function(e){y(e.individualClient),_(e.socialGroups),D(e.admins),q(!1);var t={socialMessages:Object(s.a)(e.socialGroups),individualMessages:Object(s.a)(e.individualClient),adminMessages:Object(s.a)(e.admins),allMessages:[].concat(Object(s.a)(e.individualClient),Object(s.a)(e.socialGroups),Object(s.a)(e.admins))};o(t)})).catch((function(e){q(!1),Object(u.Toast)({type:"error",message:e.message||"error"})}))};function V(e,t,n){l.joinChannelByID(e).then((function(){console.log("Channel Loaded"),o({currentChannelMembers:t,channelData:n})}))}function Z(){l&&l.unSubscribeChannel()}var z=3===parseInt(localStorage.getItem("type"));return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"main_message_container",children:Object(v.jsxs)("div",{className:"message_outter_container",children:[Object(v.jsx)("h2",{children:"Messages"}),Object(v.jsx)("div",{className:"message_inner",children:Object(v.jsxs)("div",{className:"message_wrapper",children:[Object(v.jsxs)(r.d,{defaultTab:"one",children:[Object(v.jsxs)(r.b,{children:[Object(v.jsx)(r.a,{tabFor:"one",onClick:Z,children:"All"}),!z&&Object(v.jsx)(r.a,{tabFor:"two",onClick:Z,children:"INDIVIDUAL CLIENTS"}),Object(v.jsx)(r.a,{tabFor:"three",onClick:Z,children:"SOCIAL GROUPS"}),Object(v.jsx)(r.a,{tabFor:"four",onClick:Z,children:"ADMIN"})]}),Object(v.jsxs)("div",{className:"message_inner",children:[Object(v.jsx)(r.c,{tabId:"one",children:Object(v.jsxs)("div",{className:"message_inner_one",children:[Object(v.jsx)("div",{className:"message_left",children:J?Object(v.jsx)(b.CommonPageLoader,{}):f.map((function(e,t){var n,s=e.message,i=s.from,c=s.body,r=s.date_updated,l=(null===(n=e.members)||void 0===n?void 0:n.filter((function(e){return e.userId===i}))[0])||e.members[0]||{};return Object(v.jsx)("div",{className:"contact_item",children:Object(v.jsxs)("div",{className:"inner_link",children:[Object(v.jsx)(g.UserAvatar,Object(a.a)({},l)),Object(v.jsxs)("div",{className:"message_link_notify",onClick:function(){return V(e.channelUniqueName,e.members,e)},children:[Object(v.jsx)("h3",{children:e.chatTitle||""}),Object(v.jsxs)("div",{children:[c&&Object(v.jsx)("p",{children:c}),r&&Object(v.jsx)("span",{className:"msg-timestamp-left",children:Object(h.getFormatDate)(r,"LT")})]})]})]})},"".concat(Date.now(),"_all_").concat(t))}))}),Object(v.jsx)("div",{className:"message_right",children:Object(v.jsx)(j.default,{isDataPresent:(null===f||void 0===f?void 0:f.length)>0})})]})}),Object(v.jsx)(r.c,{tabId:"two",children:Object(v.jsxs)("div",{className:"message_inner_one",children:[Object(v.jsx)("div",{className:"message_left",children:J?Object(v.jsx)(b.CommonPageLoader,{}):m.map((function(e,t){var n,s=e.message,i=s.from,c=s.body,r=s.date_updated,l=(null===(n=e.members)||void 0===n?void 0:n.filter((function(e){return e.userId===i}))[0])||e.members[0]||{};return Object(v.jsx)("div",{className:"contact_item",children:Object(v.jsxs)("div",{className:"inner_link",children:[Object(v.jsx)(g.UserAvatar,Object(a.a)({},l)),Object(v.jsxs)("div",{className:"message_link_notify",onClick:function(){return V(e.channelUniqueName,e.members,e)},children:[Object(v.jsx)("h3",{children:e.chatTitle||""}),Object(v.jsxs)("div",{children:[c&&Object(v.jsx)("p",{children:c}),r&&Object(v.jsx)("span",{className:"msg-timestamp-left",children:Object(h.getFormatDate)(r,"LT")})]})]})]})},"".concat(Date.now(),"_").concat(t))}))}),Object(v.jsx)("div",{className:"message_right",children:Object(v.jsx)(j.default,{isDataPresent:m.length>0})})]})}),Object(v.jsx)(r.c,{tabId:"three",children:Object(v.jsxs)("div",{className:"message_inner_one",children:[Object(v.jsx)("div",{className:"message_left",children:J?Object(v.jsx)(b.CommonPageLoader,{}):d.map((function(e,t){var n,s=e.message,i=s.from,c=s.body,r=s.date_updated,l=(null===(n=e.members)||void 0===n?void 0:n.filter((function(e){return e.userId===i}))[0])||e.members[0]||{};return Object(v.jsx)("div",{className:"contact_item",children:Object(v.jsxs)("div",{className:"inner_link",children:[Object(v.jsx)(g.UserAvatar,Object(a.a)({},l)),Object(v.jsxs)("div",{className:"message_link_notify",onClick:function(){return V(e.channelUniqueName,e.members,e)},children:[Object(v.jsx)("h3",{children:e.chatTitle||""}),Object(v.jsxs)("div",{children:[c&&Object(v.jsx)("p",{children:c}),r&&Object(v.jsx)("span",{className:"msg-timestamp-left",children:Object(h.getFormatDate)(r,"LT")})]})]})]})},"".concat(t,"_").concat(Date.now()))}))}),Object(v.jsx)("div",{className:"message_right",children:Object(v.jsx)(j.default,{isDataPresent:d.length>0})})]})}),Object(v.jsx)(r.c,{tabId:"four",children:Object(v.jsxs)("div",{className:"message_inner_one",children:[Object(v.jsx)("div",{className:"message_left",children:J?Object(v.jsx)(b.CommonPageLoader,{}):p.map((function(e){var t,n=e.message,s=n.from,i=n.body,c=n.date_updated,r=(null===(t=e.members)||void 0===t?void 0:t.filter((function(e){return e.userId===s}))[0])||e.members[0]||{};return Object(v.jsx)("div",{className:"contact_item",children:Object(v.jsxs)("div",{className:"inner_link",children:[Object(v.jsx)(g.UserAvatar,Object(a.a)({},r)),Object(v.jsxs)("div",{className:"message_link_notify",onClick:function(){return V(e.channelUniqueName,e.members,e)},children:[Object(v.jsx)("h3",{children:e.chatTitle||""}),Object(v.jsxs)("div",{children:[i&&Object(v.jsx)("p",{children:i}),c&&Object(v.jsx)("span",{className:"msg-timestamp-left",children:Object(h.getFormatDate)(c,"LT")})]})]})]})})}))}),Object(v.jsx)("div",{className:"message_right",children:Object(v.jsx)(j.default,{isDataPresent:p.length>0})})]})})]})]}),Object(v.jsx)("div",{className:""})]})})]})})})})));t.default=p},277:function(e,t,n){"use strict";n.r(t),n.d(t,"updatePersonTyping",(function(){return r})),n.d(t,"resetChannelDetails",(function(){return l})),n.d(t,"updateMessagingDetails",(function(){return o})),n.d(t,"updateGlobalMessagingDetails",(function(){return d})),n.d(t,"initClientDispatch",(function(){return u}));var a=n(4),s=n(85),i=n(15),c=n(286),r=function(e){return function(t,n){var a=n().messagingReducer,c=a.typingMembers,r=a.currentChannelMembers,l=e.type,o=e.participant.state.identity,d=c,u=r.filter((function(e){return e.userIdenity===o}))[0]||{},j=(null===u||void 0===u?void 0:u.userName)||o;"typingStarted"===l?c.includes(j)||(d=[].concat(Object(s.a)(c),[j]),t({type:i.MessagingActionType.UPDATE_MESSAGING_DETAILS,payload:{typingMembers:Object(s.a)(d)}})):"typingEnded"===l&&c.includes(j)&&(d=Object(s.a)(c).filter((function(e){return e!==j})),t({type:i.MessagingActionType.UPDATE_MESSAGING_DETAILS,payload:{typingMembers:Object(s.a)(d)}}))}},l=function(){return function(e){e({type:i.MessagingActionType.RESET_CHANNEL_DETAILS})}},o=function(e){return function(t){t({type:i.MessagingActionType.UPDATE_MESSAGING_DETAILS,payload:e})}},d=function(e){return function(t,n){var a,c,r,l,o=null===e||void 0===e||null===(a=e.channel)||void 0===a?void 0:a.sid,d=null===e||void 0===e||null===(c=e.state)||void 0===c?void 0:c.body,u=null===e||void 0===e||null===(r=e.state)||void 0===r?void 0:r.author,m=n().messagingReducer,h=m.individualMessages,g=m.socialMessages,b=m.adminMessages,v=Object(s.a)(h),p=Object(s.a)(g),f=Object(s.a)(b),O={individualMessages:j(v,o,d,u),socialMessages:j(p,o,d,u),adminMessages:j(f,o,d,u),allMessages:[].concat(Object(s.a)(h),Object(s.a)(g),Object(s.a)(b)).sort((function(e,t){var n,a;return new Date((null===t||void 0===t||null===(n=t.message)||void 0===n?void 0:n.date_updated)||1950)-new Date((null===e||void 0===e||null===(a=e.message)||void 0===a?void 0:a.date_updated)||1950)}))},x=document.getElementsByClassName("message_left");null===(l=Object(s.a)(x))||void 0===l||l.forEach((function(e){return null===e||void 0===e?void 0:e.scrollTo(0,0)})),t({type:i.MessagingActionType.UPDATE_MESSAGING_DETAILS,payload:O})}},u=function(e){return function(t,n){t({type:i.MessagingActionType.UPDATE_CLIENT_INSTANCE,payload:new c.default(t,n,e)})}},j=function(e,t,n,i){var c=Object(s.a)(e).map((function(e){var s=Object(a.a)({},e);return(null===e||void 0===e?void 0:e.channelId)===t&&(s.message.body=n,s.message.date_updated=(new Date).toISOString(),s.message.from=i),Object(a.a)({},s)}));return c=c.sort((function(e,t){var n,a;return new Date((null===t||void 0===t||null===(n=t.message)||void 0===n?void 0:n.date_updated)||1950)-new Date((null===e||void 0===e||null===(a=e.message)||void 0===a?void 0:a.date_updated)||1950)})),Object(s.a)(c)}},282:function(e,t,n){"use strict";n.r(t),n.d(t,"ChatItem",(function(){return l}));var a=n(4),s=(n(2),n(221)),i=n.n(s),c=(n(428),n(40)),r=n(1),l=function(e){var t,n=e.currentChannelMembers,s=void 0===n?[]:n,l=e.currMsg,o=l.type,d=l.state,u=l.date;if("message"===o){var j=i()(d.timestamp).format("LT"),m=(null===d||void 0===d?void 0:d.author)===localStorage.getItem("user-id"),h=s.filter((function(e){return e.userIdenity===d.author}))[0]||{};t=Object(r.jsxs)("div",{className:"message_chat_".concat(m?"right":"left"),children:[Object(r.jsxs)("div",{className:"message_text",children:[Object(r.jsx)("h5",{children:(null===d||void 0===d?void 0:d.body)||""}),Object(r.jsx)("span",{className:"msg-time",children:j})]}),Object(r.jsx)(c.UserAvatar,Object(a.a)({},h))]})}else t=Object(r.jsx)("div",{className:"w-100 d-flex align-items-center justify-content-center my-3",children:Object(r.jsx)("span",{className:"info-badge",children:u})});return Object(r.jsx)("div",{children:t})}},286:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var a=n(4),s=n(85),i=n(64),c=n.n(i),r=n(89),l=n(22),o=n(23),d=n(15),u=n(16),j=n(87),m=n(37),h=n(277),g=n(847),b=function(){function e(t,n,i){var o=this;Object(l.a)(this,e),this.initClient=Object(r.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getToken();case 2:return t=e.sent,e.next=5,g.Client.create(t);case 5:n=e.sent,o.client=n,o.handler({type:d.MessagingActionType.INITIALIZE_CLIENT,payload:n}),o.initClientListeners(n);case 9:case"end":return e.stop()}}),e)}))),this.initClientListeners=function(e){e.removeAllListeners(),e.on("messageAdded",function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.globalMessage(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.on("typingStarted",(function(e){o.onParticipantStartTyping(e)})),e.on("typingEnded",(function(e){o.onParticipantEndedTyping(e)})),e.on("tokenAboutToExpire",Object(r.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.log("token is about to expire"),t.next=3,o.getToken();case 3:n=t.sent,e.updateToken(n);case 5:case"end":return t.stop()}}),t)})))),e.on("tokenExpired",Object(r.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.log("token is about to expire"),t.next=3,o.getToken();case 3:n=t.sent,e.updateToken(n);case 5:case"end":return t.stop()}}),t)}))))},this.globalMessage=function(e){Object(h.updateGlobalMessagingDetails)(e)(o.handler,o.getState)},this.joinChannelByID=function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(r.a)(c.a.mark((function e(n,a){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o.unSubscribeChannel(),o.client){e.next=4;break}return e.abrupt("return",alert("Twilio loading"));case 4:return o.handler({type:d.MessagingActionType.UPDATE_MESSAGING_DETAILS,payload:{isLoading:!0}}),o.log("Attempting to join ".concat(t," channel")),e.next=8,o.client.getChannelByUniqueName(t);case 8:return s=e.sent,e.next=11,o.joinChannel(s);case 11:return e.next=13,o.onChanelJoined(s);case 13:o.log("Channel joined"),o.activeChannel=s,s.on("messageAdded",function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.onMessagedAdded(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s.on("typingStarted",(function(e){o.onParticipantStartTyping(e)})),s.on("typingEnded",(function(e){o.onParticipantEndedTyping(e)})),s.on("memberJoined",(function(e){o.onMemberJoined(e)})),s.on("memberLeft",(function(e){o.onMemberLeft(e)})),o.handler({type:d.MessagingActionType.UPDATE_CHANNEL_DETAILS,payload:s}),n(!0),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),o.log("Not able to join the channel"),a(e.t0);case 28:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.joinChannel=function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("joined"===t.channelState.status){e.next=3;break}return e.next=3,t.join();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.onChanelJoined=function(){var e=Object(r.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getMessages();case 2:n=e.sent,a=n.items||[],o.handler({type:d.MessagingActionType.UPDATE_MESSAGING_DETAILS,payload:{activeChannelMessages:Object(s.a)(a),isLoading:!1}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.onMessagedAdded=function(e){return e.channel.sid!==o.activeChannel.sid?(console.log(e,"msg","diff channel"),{}):o.handler({type:d.MessagingActionType.UPDATE_MESSAGE_DETAILS,payload:e})},this.onParticipantStartTyping=function(e){var t={type:"typingStarted",participant:e};Object(h.updatePersonTyping)(t)(o.handler,o.getState)},this.onParticipantEndedTyping=function(e){var t={type:"typingEnded",participant:e};Object(h.updatePersonTyping)(t)(o.handler,o.getState)},this.onMemberJoined=function(e){var t=e.state.identity;return o.log("".concat(t," has joined the chat")),o.handler({type:d.MessagingActionType.UPDATE_MESSAGING_DETAILS,payload:{status:"".concat(t," has joined the chat")}})},this.onMemberLeft=function(e){var t=e.state.identity;return o.log("".concat(t," has left the chat")),o.handler({type:d.MessagingActionType.UPDATE_MESSAGING_DETAILS,payload:{status:"".concat(t," has left the chat")}})},this.getToken=function(){var e=u.twilioApi.getIdentityToken;return e.id=localStorage.getItem("user-id"),new Promise((function(t,n){Object(j.api)(Object(a.a)({},e)).then((function(e){var n=e.chatToken;t(n)})).catch((function(e){Object(m.Toast)({type:"error",message:e.message||"Error"}),n(e)}))}))},this.getState=n,this.handler=t,this.activeChannel=null,this.client=null,this.callbackApi=i,this.initClient()}return Object(o.a)(e,[{key:"unSubscribeChannel",value:function(){this.activeChannel&&(this.activeChannel.removeAllListeners(),this.activeChannel=null,this.log("Un subscribed from the channel")),Object(h.resetChannelDetails)()(this.handler)}},{key:"removeChatClient",value:function(){this.client&&(this.client.removeAllListeners(),this.client=null,this.handler({type:d.MessagingActionType.UPDATE_MESSAGING_DETAILS,payload:{clientData:null}}),this.unSubscribeChannel(),this.log("chat client removed"))}},{key:"log",value:function(e){console.log("---------".concat(e,"------"))}}]),e}()},299:function(e,t,n){"use strict";n.r(t);var a=n(4),s=n(85),i=n(22),c=n(23),r=n(27),l=n(26),o=n(2),d=n.n(o),u=n(405),j=n(455),m=n(401),h=n(54),g=n(282),b=n(21),v=n(63),p=n(33),f=n(86),O=n(1),x=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(e){var c;return Object(i.a)(this,n),(c=t.call(this,e)).scrollToMessageListBottom=function(){var e,t;null===(e=c.messagesEndRef.current)||void 0===e||e.scrollTo(0,null===(t=c.messagesEndRef.current)||void 0===t?void 0:t.scrollHeight)},c.handleChange=function(e){var t=e.target.value,n=c.props.activeChannel;c.setState({message:t}),n&&n.typing()},c.handleSendMessage=function(e){e.preventDefault();var t=c.state.message,n=c.props.activeChannel;if(!n)return console.log("Chat Service is not configured.");n&&n.sendMessage(String(t)).then((function(){c.setState({message:""}),c.scrollToMessageListBottom()}))},c.formatMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t="",n=e.reduce((function(e,n){var i=Object(s.a)(e),c=n.state.timestamp,r=Object(f.getFormatDate)(null,"YYYY"),l=Object(f.getFormatDate)(c,"YYYY"),o=Object(f.getFormatDate)(c,"MMMM DD"),d=r===l?o:"".concat(o,", ").concat(l);return t===d?i=[].concat(Object(s.a)(i),[Object(a.a)({type:"message"},n)]):(t=d,i=[].concat(Object(s.a)(i),[{type:"timestamp",date:d},Object(a.a)({type:"message"},n)])),i}),[]);return n},c.messagesEndRef=d.a.createRef(),c.state={message:""},c}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.activeChannelMessages.length!==e.activeChannelMessages.length&&this.scrollToMessageListBottom(),!1===this.props.isLoading&&!0===e.isLoading&&setTimeout((function(){t.scrollToMessageListBottom()}),100)}},{key:"componentDidMount",value:function(){this.scrollToMessageListBottom()}},{key:"render",value:function(){var e=this.props,t=e.activeChannelMessages,n=void 0===t?[]:t,a=e.typingMembers,s=void 0===a?[]:a,i=e.currentChannelMembers,c=void 0===i?[]:i,r=e.isLoading,l=void 0!==r&&r,o=e.activeChannel,d=void 0===o?{}:o,b=e.channelData,v=void 0===b?{}:b,p=e.isDataPresent,x=void 0!==p&&p,y=this.state.message,M=this.formatMessage(n);return x?Object(O.jsx)("div",{className:"message_right_chatarea",children:(null===d||void 0===d?void 0:d.sid)?Object(O.jsx)(O.Fragment,{children:l?Object(O.jsx)("div",{className:"w-100 h-100 d-flex align-items-center justify-content-center",children:Object(O.jsx)("span",{className:"info-badge",children:"".concat(l?"Loading...":"Connecting...")})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"message_right_header",children:[Object(O.jsx)("h2",{children:(null===v||void 0===v?void 0:v.chatTitle)||"Title"}),Object(O.jsxs)("div",{className:"message_header_times",children:[Object(O.jsxs)("div",{className:"message_header_items",children:[Object(O.jsx)("img",{src:j.default,alt:"icon"}),Object(O.jsx)("h5",{children:Object(f.getFormatDate)(null===v||void 0===v?void 0:v.startTime,"ddd MMM DD YYYY",!0)})]}),Object(O.jsxs)("div",{className:"message_header_items",children:[Object(O.jsx)("img",{src:m.default,alt:"icon"}),Object(O.jsx)("h5",{children:Object(f.getFormatDate)(null===v||void 0===v?void 0:v.startTime,"hh:mm A",!0)})]}),Object(O.jsxs)("div",{className:"message_header_items",children:[Object(O.jsx)("img",{src:u.default,alt:"icon"}),Object(O.jsx)("h5",{children:null===v||void 0===v?void 0:v.venue})]})]}),Object(O.jsx)("p",{children:s.length>0&&Object(O.jsx)("span",{className:"ml-auto text-primary fw-600",children:"".concat(s.toString()," ").concat(s.length>1?"are":"is"," typing...")})})]}),Object(O.jsxs)("div",{className:"message_right_textarea",ref:this.messagesEndRef,children:[(null===M||void 0===M?void 0:M.length)>0?M.map((function(e,t){return Object(O.jsx)(g.ChatItem,{item:e,currentChannelMembers:c,currMsg:e},"".concat(Date.now(),"_").concat(t))})):Object(O.jsx)("div",{className:"w-100 h-100 d-flex align-items-center justify-content-center",children:Object(O.jsx)("span",{className:"info-badge",children:"No message"})}),Object(O.jsx)("div",{id:"end-message"})]}),Object(O.jsx)("form",{className:"w-100",onSubmit:this.handleSendMessage,children:Object(O.jsxs)("div",{className:"message_right_input",children:[Object(O.jsx)("input",{type:"text",placeholder:"Type your message here..",value:y,onChange:this.handleChange}),Object(O.jsx)("div",{className:"submit-btn-block",children:Object(O.jsx)("button",{className:"transparent-btn",children:Object(O.jsx)(h.default,{})})})]})})]})}):Object(O.jsx)("div",{className:"w-100 h-100 d-flex align-items-center justify-content-center",children:Object(O.jsx)("span",{className:"info-badge",children:"".concat(l?"Loading...":"Select a chat to start messaging")})})}):Object(O.jsx)("div",{className:"w-100 h-100 d-flex align-items-center justify-content-center",children:l?"":Object(O.jsx)("h3",{children:"No People"})})}}]),n}(o.Component),y=Object(p.b)((function(e){return{clientData:e.messagingReducer.clientData,activeChannel:e.messagingReducer.activeChannel,activeChannelMessages:e.messagingReducer.activeChannelMessages,typingMembers:e.messagingReducer.typingMembers,chatClientInstance:e.messagingReducer.chatClientInstance,currentChannelMembers:e.messagingReducer.currentChannelMembers,isLoading:e.messagingReducer.isLoading,channelData:e.messagingReducer.channelData}}),(function(e){return Object(b.b)({trainerChannel:v.trainerChannel},e)}))(x);t.default=y},399:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Jenny.c50273b9.png"},401:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Availability Icon.ad0517cb.svg"},405:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Location Icon.cbb0b32d.svg"},424:function(e,t,n){},428:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Image 1.5667afc3.png"},455:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Shedule Icon.7b9fb7aa.svg"},579:function(e,t,n){},987:function(e,t){}}]);