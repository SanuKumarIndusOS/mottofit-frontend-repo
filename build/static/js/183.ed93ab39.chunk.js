(this.webpackJsonpmotto=this.webpackJsonpmotto||[]).push([[183],{347:function(e,t,s){"use strict";s.r(t),s.d(t,"MessageComponent",(function(){return u}));var a=s(5),n=s(109),c=(s(2),s(335)),i=(s(78),s(111)),l=s(47),o=s(1061),d=s(1062),r=s(797),m=s(921),j=s(1),u=function(e){var t=e.isMessageListLoading,s=e.messageData,u=void 0===s?[]:s,b=e.PopulateContacts,h=void 0===b?function(){}:b,v=e.nextApi,x=void 0===v?function(){}:v,g=e.scrollId,O=void 0===g?"scrollableInfiniteDiv":g,f=e.totalCount,p=e.type,N=window.matchMedia("(max-width: 700px)").matches?"auto":550;return Object(j.jsxs)("div",{className:"message_inner_one",children:[Object(j.jsx)("div",{className:"message_left",children:Object(j.jsx)("div",{id:O,style:{height:N,overflow:"auto"},children:Object(j.jsx)(r.a,{dataLength:null===u||void 0===u?void 0:u.length,next:x,hasMore:(null===u||void 0===u?void 0:u.length)<f,scrollableTarget:O,loader:Object(j.jsx)("div",{className:"load_p",children:Object(j.jsx)(m.a,{})}),children:t?Object(j.jsx)("div",{className:"load_p",children:Object(j.jsx)(m.a,{})}):u.map((function(e,t){var s,c=e.message||{},r=c.from,m=c.body,u=c.date_updated,b=(null===(s=e.members)||void 0===s?void 0:s.filter((function(e){return e.userId===r}))[0])||e.members[0]||{},v=r===localStorage.getItem("user-id"),x=e.unReadCount>0&&!v,g=Object(n.a)(e.members||[]).filter((function(t){var s;return t.userId!==(null===e||void 0===e||null===(s=e.message)||void 0===s?void 0:s.form)})).every((function(e){return 0===e.readCount}));return g&&console.log(g,e.members),Object(j.jsx)("div",{className:"contact_item",children:Object(j.jsxs)("div",{className:"inner_link",children:[Object(j.jsx)(l.UserAvatar,Object(a.a)(Object(a.a)({},b),{},{className:"img-md-2"})),Object(j.jsxs)("div",{className:"message_link_notify ".concat(x?"message-unread":""),onClick:function(){return h(e.channelUniqueName,e.members,e)},children:[Object(j.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"space-between"},children:[Object(j.jsxs)("div",{style:{display:"flex",width:"85%"},children:[Object(j.jsx)("h3",{style:{textTransform:"Capitalize"},children:e.chatTitle||""}),Object(j.jsxs)("h3",{children:["\u2002",e.members.length>2?"+  "+(e.members.length-2):null]})]}),u&&Object(j.jsx)("span",{className:"msg-timestamp-left",children:Object(i.getFormatDate)(u,"LT")})]}),Object(j.jsxs)("div",{className:"position-relative w-100 d-flex align-items-start justify-content-start",children:[v&&Object(j.jsx)(j.Fragment,{children:g?Object(j.jsx)(o.a,{className:"message-read-icon"}):Object(j.jsx)(d.a,{className:"message-read-icon"})}),m&&Object(j.jsx)("p",{children:"".concat(null===m||void 0===m?void 0:m.slice(0,100)).concat((null===m||void 0===m?void 0:m.length)>100?"...":"")}),e.unReadCount>0&&!v&&Object(j.jsx)("span",{className:"unread-badge",children:"".concat(e.unReadCount<10?e.unReadCount:"9+")})]})]})]})},"".concat(Date.now(),"_").concat(t))}))})})}),Object(j.jsx)("div",{className:"message_right",children:Object(j.jsx)(c.default,{isDataPresent:u.length>0,type:p})})]})}}}]);