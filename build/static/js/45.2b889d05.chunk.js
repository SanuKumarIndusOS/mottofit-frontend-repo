(this.webpackJsonpmotto=this.webpackJsonpmotto||[]).push([[45,34,87,108,129,147,166,183,188,189,253,387,388,389,482,483],{1061:function(e,t,n){"use strict";var a=n(2),s=n(782);t.a=Object(s.a)(a.createElement("path",{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"}),"DoneAll")},1062:function(e,t,n){"use strict";var a=n(2),s=n(782);t.a=Object(s.a)(a.createElement("path",{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}),"Done")},168:function(e,t,n){"use strict";n.r(t),n.d(t,"InfiniteScrollComponent",(function(){return g}));var a=n(5),s=n(14),i=n.n(s),r=n(28),o=n(20),c=n(21),l=n(27),u=n(26),d=n(2),h=n(78),p=n(339),m=n(1),g=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).toggleContent=function(e){var t=parseInt(e),n=a.state,s=n.showContent,i=(n.isMobile,s===t?"":t);a.setState({showContent:i},(function(){}))},a.handleAboutToReachBottom=Object(r.a)(i.a.mark((function e(){var t,n,s,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.isLoading,s=t.page,r=a.props.handleApi,a.setState({isLoading:!0}),!1!==n){e.next=9;break}return e.next=6,r(s+1);case 6:o=e.sent,o.data,a.setState({page:s+1,isLoading:!1});case 9:case"end":return e.stop()}}),e)}))),a.handleUpdate=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight,i=a.state,r=i.isLoading,o=i.total,c=i.currentDataSize;(t+100)/(n-s)>1&&c<o&&!1===r&&a.handleAboutToReachBottom()},a.loader=function(){return Object(m.jsx)("div",{className:"d-flex flex-column align-items-center justify-content-center w-100 pt-3",children:Object(m.jsx)(h.CommonPageLoader,{})})},a.state={showContent:"",page:0,count:0,total:0,isMobile:!1,isLoading:!1,notificationData:[],currentDataSize:0,initialLoad:!0},a.refArray=[],a}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.totalSize,n=this.state,a=n.initialLoad,s=n.currentDataSize;!a&&0===s&&t!==e.totalSize&&t>0&&(this.setState({currentDataSize:s,initialLoad:!0,total:t}),console.log("Runned"))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.currentDataSize,n=e.totalSize;window.matchMedia("(max-width: 700px)").matches&&this.setState({isMobile:!0}),t>0?this.setState({total:n}):this.setState({initialLoad:!1})}},{key:"render",value:function(){var e=this.state,t=(e.showContent,e.total),n=e.isMobile,s=e.isLoading,i=(e.notificationData,e.initialLoad),r=n?{style:{height:550}}:{style:{height:500}},o={};return e.currentDataSize<t&&(o.onUpdate=this.handleUpdate),Object(m.jsx)("div",{className:"notification-page",children:Object(m.jsx)("div",{className:"notification-page-body",children:i?Object(m.jsxs)(p.CustomScrollbar,Object(a.a)(Object(a.a)(Object(a.a)({customStyle:{width:"12px",right:"5px"}},r),o),{},{children:[this.props.children,s&&this.loader()]})):Object(m.jsx)(h.CommonPageLoader,{className:"mt-5 pt-5"})})})}}]),n}(d.Component)},189:function(e,t,n){"use strict";n.r(t);var a=n(36),s=n(109),i=n(5),r=n(11),o=n(2),c=n(817),l=(n(815),n(616),n(471),n(475),n(481),n(468),n(473),n(67),n(77)),u=n(51),d=n(30),h=n(25),p=(n(6),n(112),n(38)),m=(n(335),n(324)),g=(n(111),n(47),n(78),n(168),n(7)),f=n(347),b=n(19),v=n(368),j=n(1),O=Object(d.b)((function(e){return{clientData:e.messagingReducer.clientData,activeChannel:e.messagingReducer.activeChannel,activeChannelMessages:e.messagingReducer.activeChannelMessages,typingMembers:e.messagingReducer.typingMembers,chatClientInstance:e.messagingReducer.chatClientInstance,pastSessions:e.messagingReducer.pastSessions,upcomingSessions:e.messagingReducer.upcomingSessions,requestedSessions:e.messagingReducer.requestedSessions,adminMessages:e.messagingReducer.adminMessages,userMessages:e.messagingReducer.userMessages,trainerMessages:e.messagingReducer.trainerMessages,invitedSessions:e.messagingReducer.invitedSessions}}),(function(e){return Object(h.b)({trainerChannel:l.trainerChannel,adminChannel:l.adminChannel,initClientDispatch:m.initClientDispatch,updateMessagingDetails:m.updateMessagingDetails,unSubscribeAct:m.unSubscribeFromChannel,unSubscribeClientAct:m.unSubscribeFromClient,change_login_status:u.change_login_status,updateMessageUnReadCountAct:m.updateMessageUnReadCount},e)}))((function(e){var t=e.trainerChannel,n=e.adminChannel,l=e.initClientDispatch,u=(e.clientData,e.activeChannel,e.activeChannelMessages,e.typingMembers,e.chatClientInstance),d=e.updateMessagingDetails,h=e.pastSessions,m=e.upcomingSessions,O=e.requestedSessions,y=e.adminMessages,x=e.userMessages,S=e.trainerMessages,C=e.invitedSessions,M=e.unSubscribeAct,T=e.unSubscribeClientAct,D=e.change_login_status,w=e.updateMessageUnReadCountAct,I=3===parseInt(localStorage.getItem("type")),_=1===parseInt(localStorage.getItem("type")),E=Object(b.h)().type,L=Object(o.useState)([]),A=Object(r.a)(L,2),N=(A[0],A[1],Object(o.useState)([])),k=Object(r.a)(N,2),R=(k[0],k[1],Object(o.useState)([])),P=Object(r.a)(R,2),U=(P[0],P[1],Object(o.useState)([])),F=Object(r.a)(U,2),Y=(F[0],F[1],Object(o.useState)()),B=Object(r.a)(Y,2),z=(B[0],B[1],Object(o.useState)([])),G=Object(r.a)(z,2),q=(G[0],G[1],Object(o.useState)([])),H=Object(r.a)(q,2),J=(H[0],H[1],Object(o.useState)("")),K=Object(r.a)(J,2),V=(K[0],K[1],Object(o.useState)("")),$=Object(r.a)(V,2),W=($[0],$[1],Object(o.useState)(!0)),Z=Object(r.a)(W,2),Q=Z[0],X=Z[1],ee=Object(o.useState)({invited:0,upcoming:0,past:0,admin:0,user:0,trainer:0}),te=Object(r.a)(ee,2),ne=te[0],ae=te[1],se=Object(o.useState)({invited:0,upcoming:0,past:0,admin:0,user:0,trainer:0}),ie=Object(r.a)(se,2),re=ie[0],oe=ie[1],ce=Object(o.useState)(_?"trainer":"upcoming"),le=Object(r.a)(ce,2),ue=le[0],de=le[1];Object(o.useEffect)((function(){D({loginStatus:!0}),window.scrollTo(0,0);var e=g.history.location.search,t=(e.split("=")[1],e.split("channelId=")[1]),n=window.matchMedia("(max-width: 700px)");return l(t,(function(){X(!1)})),function(){n.matches||T(),D({loginStatus:!1})}}),[]),Object(o.useEffect)((function(){var e=g.history.location.search;e.split("=")[1],e.split("channelId=")[1];E&&de(E)}),[g.history.location]),Object(o.useEffect)((function(){he(ue)}),[ne]);var he=function(e){if(_)return pe();var n=g.history.location.search.split("channelId=")[1];t(e,ne[e]).then((function(t){var r=t.data,o=t.documentCount,c={invited:"invitedSessions",upcoming:"upcomingSessions",past:"pastSessions",admin:"adminMessages",requested:"requestedSessions"},l={invited:C,upcoming:m,past:h,admin:y,requested:O},u=c[e],p=Object(i.a)({},re);p[e]=o,oe(p),X(!1);var g=Object(s.a)(r).map((function(e){var t=e.members.filter((function(e){return e.userId===localStorage.getItem("user-id")}))[0];return Object(i.a)(Object(i.a)({},e),{},{unReadCount:(null===t||void 0===t?void 0:t.readCount)||0})})),f=Object(s.a)(l[e]||[]),b=Object(a.a)({},u,[].concat(Object(s.a)(f),Object(s.a)(g)));if(E&&n){var v=Object(s.a)(b[c[E]]).filter((function(e){return e.channelId===n}))[0]||{};if(v.channelId){var j={currentChannelMembers:Object(s.a)(null===v||void 0===v?void 0:v.members),channelData:v};d(j)}}d(b)})).catch((function(e){X(!1)}))},pe=function(){n().then((function(e){var t=e||{},n=t.trainersArray,a=void 0===n?[]:n,r=t.usersArray,o=void 0===r?[]:r,c=g.history.location.search,l={userMessages:[].concat(Object(s.a)(x),Object(s.a)(o)),trainerMessages:[].concat(Object(s.a)(S),Object(s.a)(a))};X(!1);var u=c.split("channelId=")[1];if(u){var h=l[{trainer:"trainerMessages",user:"userMessages"}[E]].filter((function(e){return e.channelId===u}))[0]||{};l=Object(i.a)(Object(i.a)({},l),{},{currentChannelMembers:null===h||void 0===h?void 0:h.members,channelData:h})}d(l)})).catch((function(e){console.log(e),Object(p.Toast)({type:"error",message:e.message||"Error"})}))};function me(e,t,n){var a=window.matchMedia("(max-width: 700px)");u.joinChannelByID(e).then((function(){var e={currentChannelMembers:t,channelData:n};n.unReadCount>0&&function(e,t){var n={channelSid:t.channelId,unRead:e,userId:localStorage.getItem("user-id")};n.channelSid&&n.userId&&(console.log(n),w(n,ue))}(0,n),d(e),a.matches&&g.history.push("/mobiles/chat")})).catch((function(e){Object(p.Toast)({type:"error",message:e.message||"Error"}),console.log(e)}))}var ge=function(e){var t={invited:C,upcoming:m,past:h,admin:y,requested:O,trainer:S,user:x}[e];if(console.log(t,re[e]),!((null===t||void 0===t?void 0:t.length)<=0||re[e]<=0)){var n=Object(i.a)({},ne);n[e]+=1,ae(n)}};return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"main_message_container",children:[Object(j.jsx)(v.a,{ref:function(e){e},timeout:1e4,onActive:function(e){console.log("user is active"),null!==localStorage.getItem("token")&&D({loginStatus:!0})},onIdle:function(e){console.log("user is idle"),null!==localStorage.getItem("token")&&D({loginStatus:!1})},debounce:250}),Object(j.jsxs)("div",{className:"message_outter_container",children:[Object(j.jsx)("h2",{children:"Messages"}),Object(j.jsx)("div",{className:"message_inner",children:Object(j.jsxs)("div",{className:"message_wrapper",children:[Object(j.jsxs)(c.d,{defaultTab:ue,onChange:function(e){console.log(e),function(e){g.history.location.search;var t=window.location.pathname,n="";n=t.includes("admins")?t.split("/")[3]||"":t.split("/")[4]||"",_?e!==n&&g.history.push("/admins/message/".concat(e)):e!==n&&g.history.push("/".concat(I?"users":"trainers","/dashboard/message/").concat(e)),de(e),X(!0),M(),he(e)}(e)},children:[Object(j.jsx)(c.b,{children:_?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(c.a,{tabFor:"trainer",children:"Trainers"}),Object(j.jsx)(c.a,{tabFor:"user",children:"Users"})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(c.a,{tabFor:"upcoming",children:"Upcoming"}),I&&Object(j.jsx)(c.a,{tabFor:"invited",children:"Invited"}),Object(j.jsx)(c.a,{tabFor:"past",children:"Previous"}),Object(j.jsx)(c.a,{tabFor:"admin",children:"Admin"}),Object(j.jsx)(c.a,{tabFor:"requested",children:"Requests"})]})}),Object(j.jsxs)("div",{className:"message_inner",children:[Object(j.jsx)(c.c,{tabId:"invited",children:Object(j.jsx)(f.MessageComponent,{isMessageListLoading:Q,messageData:C,PopulateContacts:me,scrollId:"scrollableInvitedDiv",nextApi:function(){return ge("invited")},totalCount:re.invited,type:E})}),Object(j.jsx)(c.c,{tabId:"upcoming",children:Object(j.jsx)(f.MessageComponent,{isMessageListLoading:Q,messageData:m,PopulateContacts:me,scrollId:"scrollableUpcomingDiv",nextApi:function(){return ge("upcoming")},totalCount:re.upcoming,type:E})}),Object(j.jsx)(c.c,{tabId:"past",children:Object(j.jsx)(f.MessageComponent,{isMessageListLoading:Q,messageData:h,PopulateContacts:me,scrollId:"scrollablePastDiv",nextApi:function(){return ge("past")},totalCount:re.past,type:E})}),Object(j.jsx)(c.c,{tabId:"admin",children:Object(j.jsx)(f.MessageComponent,{isMessageListLoading:Q,messageData:y,PopulateContacts:me,scrollId:"scrollableAdminDiv",nextApi:function(){return ge("admin")},totalCount:re.admin,type:E})}),Object(j.jsx)(c.c,{tabId:"requested",children:Object(j.jsx)(f.MessageComponent,{isMessageListLoading:Q,messageData:O,PopulateContacts:me,scrollId:"scrollableRequestedDiv",nextApi:function(){return ge("requested")},totalCount:re.requested,type:E})}),Object(j.jsx)(c.c,{tabId:"user",children:Object(j.jsx)(f.MessageComponent,{isMessageListLoading:Q,messageData:x,PopulateContacts:me,scrollId:"scrollableUserDiv",nextApi:function(){return ge("user")},totalCount:re.user,type:E})}),Object(j.jsx)(c.c,{tabId:"trainer",children:Object(j.jsx)(f.MessageComponent,{isMessageListLoading:Q,messageData:S,PopulateContacts:me,scrollId:"scrollableTrainerDiv",nextApi:function(){return ge("trainer")},totalCount:re.trainer,type:E})})]})]}),Object(j.jsx)("div",{className:""})]})})]})]})})}));t.default=O},324:function(e,t,n){"use strict";n.r(t),n.d(t,"updatePersonTyping",(function(){return l})),n.d(t,"resetChannelDetails",(function(){return u})),n.d(t,"updateMessagingDetails",(function(){return d})),n.d(t,"updateGlobalMessagingDetails",(function(){return h})),n.d(t,"initClientDispatch",(function(){return p})),n.d(t,"unSubscribeFromChannel",(function(){return m})),n.d(t,"unSubscribeFromClient",(function(){return g})),n.d(t,"updateMessageUnReadCount",(function(){return b}));var a=n(36),s=n(5),i=n(109),r=n(15),o=n(334),c=n(6),l=function(e){return function(t,n){var a=n().messagingReducer,s=a.typingMembers,o=a.currentChannelMembers,c=e.type,l=e.participant.state.identity,u=s,d=(localStorage.getItem("user-id"),o.filter((function(e){return e.userIdenity===l}))[0]||{}),h=(null===d||void 0===d?void 0:d.userName)||l;"typingStarted"===c?s.includes(h)||(u=[].concat(Object(i.a)(s),[h]),t({type:r.MessagingActionType.UPDATE_MESSAGING_DETAILS,payload:{typingMembers:Object(i.a)(u)}})):"typingEnded"===c&&s.includes(h)&&(u=Object(i.a)(s).filter((function(e){return e!==h})),t({type:r.MessagingActionType.UPDATE_MESSAGING_DETAILS,payload:{typingMembers:Object(i.a)(u)}}))}},u=function(){return function(e){e({type:r.MessagingActionType.RESET_CHANNEL_DETAILS})}},d=function(e){return function(t){t({type:r.MessagingActionType.UPDATE_MESSAGING_DETAILS,payload:e})}},h=function(e){return function(t,n,a){var s,o,c,l,u=a.api,d=null===e||void 0===e||null===(s=e.channel)||void 0===s?void 0:s.sid,h=null===e||void 0===e||null===(o=e.state)||void 0===o?void 0:o.body,p=null===e||void 0===e||null===(c=e.state)||void 0===c?void 0:c.author,m=n().messagingReducer,g=m.pastSessions,v=m.upcomingSessions,j=m.adminMessages,O=m.invitedSessions,y=m.requestedSessions,x=m.userMessages,S=m.trainerMessages,C=m.activeChannel,M=Object(i.a)(g),T=Object(i.a)(v),D=Object(i.a)(O),w=Object(i.a)(j),I=Object(i.a)(y),_=Object(i.a)(x),E=Object(i.a)(S),L=function(e,a){return b(e,a)(t,n,{api:u})},A=f(M,d,h,p,C,L),N=f(T,d,h,p,C,L),k=f(I,d,h,p,C,L),R=f(D,d,h,p,C,L),P={pastSessions:A,upcomingSessions:N,requestedSessions:k,adminMessages:f(w,d,h,p,C,L),userMessages:f(_,d,h,p,C,L),trainerMessages:f(E,d,h,p,C,L),invitedSessions:R},U=document.getElementsByClassName("message_left");null===(l=Object(i.a)(U))||void 0===l||l.forEach((function(e){return null===e||void 0===e?void 0:e.scrollTo(0,0)})),t({type:r.MessagingActionType.UPDATE_MESSAGING_DETAILS,payload:P})}},p=function(e,t){return function(n,a){n({type:r.MessagingActionType.UPDATE_CLIENT_INSTANCE,payload:new o.default(n,a,e,t)})}},m=function(){return function(e,t){var n=t().messagingReducer.chatClientInstance;n&&n.unSubscribeChannel()}},g=function(){return function(e,t){var n=t().messagingReducer.chatClientInstance;n&&n.removeChatClient()}},f=function(e,t,n,a,r,o){var c=Object(i.a)(e).map((function(e){var i=Object(s.a)({},e);if((null===e||void 0===e?void 0:e.channelId)===t){Object.keys(i).includes("message")||(i.message={}),i.message.body=n,i.message.date_updated=(new Date).toISOString(),i.message.from=a,console.log(i);var c=localStorage.getItem("user-id");if(!(a===c))if(i.channelId===r.sid){var l={channelSid:r.sid,unRead:0,userId:c},u=window.location.pathname,d="";d=u.includes("admins")?u.split("/")[3]||"":u.split("/")[4]||"",o(l,d)}else i.unReadCount=(i.unReadCount||0)+1}return console.log(i),Object(s.a)({},i)})),l=(c=c.sort((function(e,t){var n,a;return new Date((null===t||void 0===t||null===(n=t.message)||void 0===n?void 0:n.date_updated)||1950)-new Date((null===e||void 0===e||null===(a=e.message)||void 0===a?void 0:a.date_updated)||1950)}))).filter((function(e,t,n){return t===n.findIndex((function(t){return t.channelId===e.channelId}))}));return Object(i.a)(l)},b=function(e,t){return function(n,o,l){var u=l.api;return new Promise((function(l,d){var h=c.TrainerApi.updateUnReadCount;h.body=e,u(Object(s.a)({},h)).then((function(c){console.log(c);var l={invited:"invitedSessions",upcoming:"upcomingSessions",past:"pastSessions",admin:"adminMessages",requested:"requestedSessions",user:"userMessages",trainer:"trainerMessages"}[t],u=o().messagingReducer,d=Object(i.a)(u[l]||[]);if(console.log(e,t),(null===d||void 0===d?void 0:d.length)>0){var h=d.map((function(t){var n=Object(s.a)({},t);return(null===t||void 0===t?void 0:t.channelId)===e.channelSid&&(n.unReadCount=0!==e.unRead?parseInt(n.unReadCount||0)+1:e.unRead),n})),p=Object(a.a)({},l,Object(i.a)(h));n({type:r.MessagingActionType.UPDATE_MESSAGING_DETAILS,payload:p})}})).catch((function(e){console.log(e)}))}))}}},334:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var a=n(5),s=n(109),i=n(14),r=n.n(i),o=n(28),c=n(20),l=n(21),u=n(15),d=n(6),h=n(112),p=n(38),m=n(324),g=n(871),f=function(){function e(t,n,i,l){var f=this;Object(c.a)(this,e),this.initClient=Object(o.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getToken();case 2:return t=e.sent,e.next=5,g.Client.create(t);case 5:n=e.sent,f.client=n,f.handler({type:u.MessagingActionType.INITIALIZE_CLIENT,payload:n}),f.initClientListeners(n);case 9:case"end":return e.stop()}}),e)}))),this.initClientListeners=function(e){e.removeAllListeners(),e.on("messageAdded",function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("global"),f.globalMessage(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.on("typingStarted",(function(e){f.onParticipantStartTyping(e)})),e.on("typingEnded",(function(e){f.onParticipantEndedTyping(e)})),e.on("tokenAboutToExpire",Object(o.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f.log("token is about to expire"),t.next=3,f.getToken();case 3:n=t.sent,e.updateToken(n);case 5:case"end":return t.stop()}}),t)})))),e.on("tokenExpired",Object(o.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f.log("token is about to expire"),t.next=3,f.getToken();case 3:n=t.sent,e.updateToken(n);case 5:case"end":return t.stop()}}),t)})))),f.cachedChannelId&&f.joinChannelByID(f.cachedChannelId,!0).catch((function(e){Object(p.Toast)({type:"error",message:e.message||"Error"}),f.callBackFn()}))},this.globalMessage=function(e){Object(m.updateGlobalMessagingDetails)(e)(f.handler,f.getState,{api:h.api,Toast:p.Toast})},this.handleCurrentChannelMessage=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("global 2"),e.next=3,f.onMessagedAdded(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.joinChannelByID=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],e.abrupt("return",new Promise(function(){var e=Object(o.a)(r.a.mark((function e(a,s){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n||f.unSubscribeChannel(),f.client){e.next=4;break}return e.abrupt("return",alert("Twilio loading"));case 4:return f.handler({type:u.MessagingActionType.UPDATE_MESSAGING_DETAILS,payload:{isLoading:!0}}),f.log("Attempting to join ".concat(t," channel")),e.next=8,f.client.getChannelByUniqueName(t);case 8:return i=e.sent,e.next=11,f.joinChannel(i);case 11:return e.next=13,f.onChanelJoined(i);case 13:f.log("Channel joined"),f.activeChannel=i,i.on("messageAdded",f.handleCurrentChannelMessage),i.on("typingStarted",(function(e){f.onParticipantStartTyping(e)})),i.on("typingEnded",(function(e){f.onParticipantEndedTyping(e)})),i.on("memberJoined",(function(e){f.onMemberJoined(e)})),i.on("memberLeft",(function(e){f.onMemberLeft(e)})),f.handler({type:u.MessagingActionType.UPDATE_CHANNEL_DETAILS,payload:i}),a(!0),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),f.log("Not able to join the channel"),s(e.t0);case 28:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t,n){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.joinChannel=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("joined"===t.channelState.status){e.next=3;break}return e.next=3,t.join();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.onChanelJoined=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getMessages();case 2:n=e.sent,a=n.items||[],f.handler({type:u.MessagingActionType.UPDATE_MESSAGING_DETAILS,payload:{activeChannelMessages:Object(s.a)(a),isLoading:!1}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.onMessagedAdded=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a,i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.channel.sid===(null===(n=f.activeChannel)||void 0===n?void 0:n.sid)){e.next=6;break}return console.log(t,"msg","diff channel"),e.abrupt("return",{});case 6:return e.next=8,f.activeChannel.getMessages();case 8:return a=e.sent,i=a.items,o=void 0===i?[]:i,console.log(a,"channelMessages"),e.abrupt("return",f.handler({type:u.MessagingActionType.UPDATE_MESSAGING_DETAILS,payload:{activeChannelMessages:Object(s.a)(o),isLoading:!1}}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.onParticipantStartTyping=function(e){if((e.state||{}).identity!==localStorage.getItem("user-id")){var t={type:"typingStarted",participant:e};Object(m.updatePersonTyping)(t)(f.handler,f.getState)}},this.onParticipantEndedTyping=function(e){if((e.state||{}).identity!==localStorage.getItem("user-id")){var t={type:"typingEnded",participant:e};Object(m.updatePersonTyping)(t)(f.handler,f.getState)}},this.onMemberJoined=function(e){var t=e.state.identity;return f.log("".concat(t," has joined the chat")),f.handler({type:u.MessagingActionType.UPDATE_MESSAGING_DETAILS,payload:{status:"".concat(t," has joined the chat")}})},this.onMemberLeft=function(e){var t=e.state.identity;return f.log("".concat(t," has left the chat")),f.handler({type:u.MessagingActionType.UPDATE_MESSAGING_DETAILS,payload:{status:"".concat(t," has left the chat")}})},this.getToken=function(){var e=d.twilioApi.getIdentityToken;return e.id=localStorage.getItem("user-id"),new Promise((function(t,n){Object(h.api)(Object(a.a)({},e)).then((function(e){var n=e.chatToken;t(n)})).catch((function(e){Object(p.Toast)({type:"error",message:e.message||"Error"}),n(e)}))}))},this.unSubscribeChannel=function(){f.activeChannel&&f.activeChannel.leave().then((function(e){f.activeChannel=null,f.log("Un subscribed from the channel")})),Object(m.resetChannelDetails)()(f.handler)},this.removeChatClient=function(){f.client&&(f.client.removeAllListeners(),f.client=null,f.handler({type:u.MessagingActionType.UPDATE_MESSAGING_DETAILS,payload:{clientData:null}}),f.unSubscribeChannel(),f.log("chat client removed"))},this.getState=n,this.handler=t,this.activeChannel=null,this.client=null,this.cachedChannelId=i,this.callBackFn=l,this.initClient()}return Object(l.a)(e,[{key:"log",value:function(e){console.log("---------".concat(e,"------"))}}]),e}()},335:function(e,t,n){"use strict";n.r(t);var a=n(5),s=n(109),i=n(20),r=n(21),o=n(32),c=n(27),l=n(26),u=n(2),d=n.n(u),h=n(473),p=n(481),m=n(468),g=(n(67),n(336)),f=n(337),b=n(25),v=n(77),j=n(51),O=n(30),y=n(111),x=n(9),S=n(19),C=n(324),M=n(1),T=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).scrollToMessageListBottom=function(){var e,t;null===(e=r.messagesEndRef.current)||void 0===e||e.scrollTo(0,null===(t=r.messagesEndRef.current)||void 0===t?void 0:t.scrollHeight)},r.handleChange=function(e){var t=e.target.value,n=r.props.activeChannel;r.setState({message:t}),n&&n.typing()},r.handleSendMessage=function(e){e.preventDefault();var t=r.state.message,n=r.props.activeChannel;if(!n)return console.log("Chat Service is not configured.");n&&""!==t&&(r.setState({message:""}),n.sendMessage(String(t)).then((function(){r.scrollToMessageListBottom(),r.unread()})))},r.handleUnreadCount=function(e){var t={channelSid:r.props.channelData.channelId,unRead:e,userId:localStorage.getItem("user-id")},n=window.location.pathname,a="";a=n.includes("admins")?n.split("/")[3]||"":n.split("/")[4]||"",t.channelSid&&t.userId&&r.props.updateMessageUnReadCountAct(t,a)},r.formatMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t="",n=e.reduce((function(e,n){var i=Object(s.a)(e),r=n.state.timestamp,o=Object(y.getFormatDate)(null,"YYYY"),c=Object(y.getFormatDate)(r,"YYYY"),l=Object(y.getFormatDate)(r,"MMMM DD"),u=o===c?l:"".concat(l,", ").concat(c);return t===u?i=[].concat(Object(s.a)(i),[Object(a.a)({type:"message"},n)]):(t=u,i=[].concat(Object(s.a)(i),[{type:"timestamp",date:u},Object(a.a)({type:"message"},n)])),i}),[]);return n},r.unread=function(){r.setState({members:r.props.currentChannelMembers},(function(){r.handleUnreadCount(1)}))},r.handleKeyUp=function(e){13!=e.keyCode||e.shiftKey||r.handleSendMessage(e)},r.goBack=r.goBack.bind(Object(o.a)(r)),r.messagesEndRef=d.a.createRef(),r.state={message:"",members:[]},r.inputRef=d.a.createRef(),r}return Object(r.a)(n,[{key:"goBack",value:function(){this.props.history.goBack(),this.props.unSubscribeFromChannel()}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.activeChannelMessages.length!==e.activeChannelMessages.length&&this.scrollToMessageListBottom(),!1===this.props.isLoading&&!0===e.isLoading&&setTimeout((function(){var e,n,a,s,i;t.scrollToMessageListBottom(),(null===(e=t.inputRef)||void 0===e?void 0:e.current)&&(null===(n=t.inputRef)||void 0===n||null===(a=n.current)||void 0===a?void 0:a.focus)&&(null===(s=t.inputRef)||void 0===s||null===(i=s.current)||void 0===i||i.focus())}),100)}},{key:"componentDidMount",value:function(){this.scrollToMessageListBottom()}},{key:"render",value:function(){var e,t,n=this.props,a=n.activeChannelMessages,s=void 0===a?[]:a,i=n.typingMembers,r=void 0===i?[]:i,o=n.currentChannelMembers,c=void 0===o?[]:o,l=n.isLoading,u=void 0!==l&&l,d=n.activeChannel,b=void 0===d?{}:d,v=n.channelData,j=void 0===v?{}:v,O=n.isDataPresent,S=void 0!==O&&O,C=n.type,T=this.state.message,D=this.formatMessage(s),w=localStorage.getItem("user-id"),I=null===j||void 0===j?void 0:j.trainerId,_=I===w,E=(null===(e=c.filter((function(e){return e.userId===I}))[0])||void 0===e?void 0:e.userName)||{},L=(null===(t=c.filter((function(e){return e.userId!==I}))[0])||void 0===t?void 0:t.userName)||{};if(!S)return Object(M.jsx)("div",{className:"w-100 h-100 d-flex align-items-center justify-content-center",children:u?"":Object(M.jsx)("h3",{children:"No New Messages"})});var A="";return A=_?"/trainers/dashboard/schedule":"/trainer/profile/".concat(I),Object(M.jsx)("div",{className:"message_right_chatarea",children:(null===b||void 0===b?void 0:b.sid)?Object(M.jsx)(M.Fragment,{children:u?Object(M.jsx)("div",{className:"w-100 h-100 d-flex align-items-center justify-content-center",children:Object(M.jsx)("span",{className:"info-badge",children:"".concat(u?"Loading...":"Connecting...")})}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("div",{className:"mobile_chat_header",children:[Object(M.jsx)("h2",{style:{textTransform:"Capitalize"},children:(null===j||void 0===j?void 0:j.chatTitle)||"Title"}),Object(M.jsx)("h1",{onClick:this.goBack,children:"\u2039"})]}),Object(M.jsxs)("div",{className:"message_right_header",children:[Object(M.jsx)("h2",{style:{textTransform:"Capitalize"},children:(null===j||void 0===j?void 0:j.chatTitle)||"Title"}),Object(M.jsxs)("div",{className:"message_header_times",children:[Object(M.jsxs)("div",{className:"message_header_items",children:[Object(M.jsx)("img",{src:p.default,alt:"icon"}),Object(M.jsx)("h5",{children:Object(y.getFormatDate)(null===j||void 0===j?void 0:j.startTime,"ddd MMM DD YYYY",!0)})]}),Object(M.jsxs)("div",{className:"message_header_items",children:[Object(M.jsx)("img",{src:m.default,alt:"icon"}),Object(M.jsx)("h5",{children:Object(y.getFormatDate)(null===j||void 0===j?void 0:j.startTime,"hh:mm A",!0)})]}),Object(M.jsxs)("div",{className:"message_header_items",children:[Object(M.jsx)("img",{src:h.default,alt:"icon"}),Object(M.jsx)("h5",{children:null===j||void 0===j?void 0:j.venue})]})]}),"requested"===C&&Object(M.jsx)("div",{className:"requested-session-block",children:Object(M.jsxs)("p",{className:"text-secondary fs-14",children:[Object(M.jsx)(x.a,{to:A,children:Object(M.jsx)("span",{className:"text-primary text-underline cursor-pointer",children:"Click here"})}),Object(M.jsx)("span",{children:" to book your session with "}),Object(M.jsx)("span",{className:"text-capitalize",children:"".concat(_?L:E)}),Object(M.jsx)("span",{children:" once you both have agreed on a day & time."})]})}),Object(M.jsx)("p",{children:r.length>0&&Object(M.jsx)("span",{className:"ml-auto text-primary fw-600",children:"".concat(r.toString()," ").concat(r.length>1?"are":"is"," typing...")})})]}),Object(M.jsxs)("div",{className:"message_right_textarea",ref:this.messagesEndRef,children:[(null===D||void 0===D?void 0:D.length)>0?D.map((function(e,t){return Object(M.jsx)(f.ChatItem,{item:e,currentChannelMembers:c,currMsg:e},"".concat(Date.now(),"_").concat(t))})):Object(M.jsx)("div",{className:"w-100 h-100 d-flex align-items-center justify-content-center",children:Object(M.jsx)("span",{className:"info-badge",children:"No message"})}),Object(M.jsx)("div",{id:"end-message"})]}),Object(M.jsx)("form",{className:"w-100",onSubmit:this.handleSendMessage,children:Object(M.jsxs)("div",{className:"message_right_input",children:[Object(M.jsx)("textarea",{type:"text",placeholder:"Type your message here..",value:T,onChange:this.handleChange,onKeyDown:this.handleKeyUp,onKeyPress:this.handleKeyUp,ref:this.inputRef}),Object(M.jsx)("div",{className:"submit-btn-block",onClick:this.handleSendMessage,children:Object(M.jsx)("button",{className:"transparent-btn",children:Object(M.jsx)(g.default,{})})})]})})]})}):Object(M.jsx)("div",{className:"w-100 h-100 d-flex align-items-center justify-content-center",children:Object(M.jsx)("span",{className:"info-badge",children:"".concat(u?"Loading...":"Select a chat to start messaging")})})})}}]),n}(u.Component),D=Object(O.b)((function(e){return{clientData:e.messagingReducer.clientData,activeChannel:e.messagingReducer.activeChannel,activeChannelMessages:e.messagingReducer.activeChannelMessages,typingMembers:e.messagingReducer.typingMembers,chatClientInstance:e.messagingReducer.chatClientInstance,currentChannelMembers:e.messagingReducer.currentChannelMembers,isLoading:e.messagingReducer.isLoading,channelData:e.messagingReducer.channelData}}),(function(e){return Object(b.b)({trainerChannel:v.trainerChannel,send_unread_notification:j.send_unread_notification,unSubscribeFromChannel:C.unSubscribeFromChannel,updateMessageUnReadCountAct:C.updateMessageUnReadCount},e)}))(T);t.default=Object(S.i)(D)},336:function(e,t,n){"use strict";n.r(t);n(2),n(271);var a=n(1);t.default=function(){return Object(a.jsxs)("div",{className:"blue-arrow-btn position-relative",children:[Object(a.jsxs)("div",{className:"arrow_anim_blue",id:"arrow_anim",children:[Object(a.jsx)("div",{className:"line_blue"}),Object(a.jsx)("div",{className:"arrow_blue right_blue"})]}),Object(a.jsx)("div",{className:"arrow2_blue right_blue",id:"cube"}),Object(a.jsx)("div",{className:"circle_blue"})]})}},337:function(e,t,n){"use strict";n.r(t),n.d(t,"ChatItem",(function(){return u}));var a=n(5),s=(n(2),n(268)),i=n.n(s),r=(n(475),n(47)),o=n(894),c=n.n(o),l=n(1),u=function(e){var t,n=e.currentChannelMembers,s=void 0===n?[]:n,o=e.currMsg,u=o.type,d=o.state,h=o.date;if("message"===u){var p=i()(d.timestamp).format("LT"),m=(null===d||void 0===d?void 0:d.author)===localStorage.getItem("user-id"),g=s.filter((function(e){return e.userIdenity===d.author}))[0]||{};t=Object(l.jsxs)("div",{className:"message_chat_".concat(m?"right":"left"),children:[Object(l.jsxs)("div",{className:"message_text",children:[Object(l.jsx)(c.a,{componentDecorator:function(e,t,n){return Object(l.jsx)("a",{href:e,target:"_blank",role:"noopener noreferrer",children:t},n)},children:Object(l.jsx)("h5",{children:(null===d||void 0===d?void 0:d.body)||""})}),Object(l.jsx)("span",{className:"msg-time",children:p})]}),Object(l.jsx)(r.UserAvatar,Object(a.a)({},g))]})}else t=Object(l.jsx)("div",{className:"w-100 d-flex align-items-center justify-content-center my-3",children:Object(l.jsx)("span",{className:"info-badge",children:h})});return Object(l.jsx)("div",{children:t})}},339:function(e,t,n){"use strict";n.r(t),n.d(t,"CustomScrollbar",(function(){return p}));var a=n(5),s=n(60),i=n(20),r=n(21),o=n(27),c=n(26),l=n(2),u=n.n(l),d=n(924),h=n(1),p=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).scrollbars=u.a.createRef(),e.state={mounted:!1},e.renderThumb=function(t){var n=t.style,i=Object(s.a)(t,["style"]),r=e.props.customStyle,o=Object(a.a)({backgroundColor:"#f2f2f2",borderRadius:"8px",width:"16px"},r);return Object(h.jsx)("div",Object(a.a)(Object(a.a)({style:Object(a.a)(Object(a.a)({},n),o)},i),{},{className:"render-y"}))},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"componentDidUpdate",value:function(){var e=this.props.scrollToBottomUpdate;void 0!==e&&e&&this.state.mounted&&this.scrollbars.current.scrollToBottom()}},{key:"renderView",value:function(e){var t=e.style,n=Object(s.a)(e,["style"]);return Object(h.jsx)("div",Object(a.a)(Object(a.a)({style:Object(a.a)({},t)},n),{},{className:"h"}))}},{key:"render",value:function(){var e=this.props,t=(e.customStyle,Object(s.a)(e,["customStyle"]));return Object(h.jsx)(d.Scrollbars,Object(a.a)({ref:this.scrollbars,renderThumbHorizontal:this.renderThumb,renderThumbVertical:this.renderThumb,renderView:this.renderView},t))}}]),n}(l.Component)},347:function(e,t,n){"use strict";n.r(t),n.d(t,"MessageComponent",(function(){return p}));var a=n(5),s=n(109),i=(n(2),n(335)),r=(n(78),n(111)),o=n(47),c=n(1061),l=n(1062),u=n(797),d=n(921),h=n(1),p=function(e){var t=e.isMessageListLoading,n=e.messageData,p=void 0===n?[]:n,m=e.PopulateContacts,g=void 0===m?function(){}:m,f=e.nextApi,b=void 0===f?function(){}:f,v=e.scrollId,j=void 0===v?"scrollableInfiniteDiv":v,O=e.totalCount,y=e.type,x=window.matchMedia("(max-width: 700px)").matches?"auto":550;return Object(h.jsxs)("div",{className:"message_inner_one",children:[Object(h.jsx)("div",{className:"message_left",children:Object(h.jsx)("div",{id:j,style:{height:x,overflow:"auto"},children:Object(h.jsx)(u.a,{dataLength:null===p||void 0===p?void 0:p.length,next:b,hasMore:(null===p||void 0===p?void 0:p.length)<O,scrollableTarget:j,loader:Object(h.jsx)("div",{className:"load_p",children:Object(h.jsx)(d.a,{})}),children:t?Object(h.jsx)("div",{className:"load_p",children:Object(h.jsx)(d.a,{})}):p.map((function(e,t){var n,i=e.message||{},u=i.from,d=i.body,p=i.date_updated,m=(null===(n=e.members)||void 0===n?void 0:n.filter((function(e){return e.userId===u}))[0])||e.members[0]||{},f=u===localStorage.getItem("user-id"),b=e.unReadCount>0&&!f,v=Object(s.a)(e.members||[]).filter((function(t){var n;return t.userId!==(null===e||void 0===e||null===(n=e.message)||void 0===n?void 0:n.form)})).every((function(e){return 0===e.readCount}));return v&&console.log(v,e.members),Object(h.jsx)("div",{className:"contact_item",children:Object(h.jsxs)("div",{className:"inner_link",children:[Object(h.jsx)(o.UserAvatar,Object(a.a)(Object(a.a)({},m),{},{className:"img-md-2"})),Object(h.jsxs)("div",{className:"message_link_notify ".concat(b?"message-unread":""),onClick:function(){return g(e.channelUniqueName,e.members,e)},children:[Object(h.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"space-between"},children:[Object(h.jsxs)("div",{style:{display:"flex",width:"85%"},children:[Object(h.jsx)("h3",{style:{textTransform:"Capitalize"},children:e.chatTitle||""}),Object(h.jsxs)("h3",{children:["\u2002",e.members.length>2?"+  "+(e.members.length-2):null]})]}),p&&Object(h.jsx)("span",{className:"msg-timestamp-left",children:Object(r.getFormatDate)(p,"LT")})]}),Object(h.jsxs)("div",{className:"position-relative w-100 d-flex align-items-start justify-content-start",children:[f&&Object(h.jsx)(h.Fragment,{children:v?Object(h.jsx)(c.a,{className:"message-read-icon"}):Object(h.jsx)(l.a,{className:"message-read-icon"})}),d&&Object(h.jsx)("p",{children:"".concat(null===d||void 0===d?void 0:d.slice(0,100)).concat((null===d||void 0===d?void 0:d.length)>100?"...":"")}),e.unReadCount>0&&!f&&Object(h.jsx)("span",{className:"unread-badge",children:"".concat(e.unReadCount<10?e.unReadCount:"9+")})]})]})]})},"".concat(Date.now(),"_").concat(t))}))})})}),Object(h.jsx)("div",{className:"message_right",children:Object(h.jsx)(i.default,{isDataPresent:p.length>0,type:y})})]})}},468:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Availability Icon.ad0517cb.svg"},471:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Jenny.c50273b9.png"},473:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Location Icon.cbb0b32d.svg"},475:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Image 1.5667afc3.png"},481:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Shedule Icon.7b9fb7aa.svg"},616:function(e,t,n){},782:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(4),s=n(2),i=n.n(s),r=n(16),o=(n(3),n(54)),c=n(76),l=n(149),u=s.forwardRef((function(e,t){var n=e.children,i=e.classes,c=e.className,u=e.color,d=void 0===u?"inherit":u,h=e.component,p=void 0===h?"svg":h,m=e.fontSize,g=void 0===m?"default":m,f=e.htmlColor,b=e.titleAccess,v=e.viewBox,j=void 0===v?"0 0 24 24":v,O=Object(r.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return s.createElement(p,Object(a.a)({className:Object(o.a)(i.root,c,"inherit"!==d&&i["color".concat(Object(l.a)(d))],"default"!==g&&i["fontSize".concat(Object(l.a)(g))]),focusable:"false",viewBox:j,color:f,"aria-hidden":!b||void 0,role:b?"img":void 0,ref:t},O),n,b?s.createElement("title",null,b):null)}));u.muiName="SvgIcon";var d=Object(c.a)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(u);function h(e,t){var n=function(t,n){return i.a.createElement(d,Object(a.a)({ref:n},t),e)};return n.muiName=d.muiName,i.a.memo(i.a.forwardRef(n))}},797:function(e,t,n){"use strict";var a=n(2),s=n.n(a),i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var r=function(){return(r=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};var o="Pixel",c="Percent",l={unit:c,value:.8};function u(e){return"number"===typeof e?{unit:c,value:100*e}:"string"===typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:o,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:c,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),l):(console.warn("scrollThreshold should be string or number"),l)}var d=function(e){function t(t){var n=e.call(this,t)||this;return n.lastScrollTop=0,n.actionTriggered=!1,n.startY=0,n.currentY=0,n.dragging=!1,n.maxPullDownDistance=0,n.getScrollableTarget=function(){return n.props.scrollableTarget instanceof HTMLElement?n.props.scrollableTarget:"string"===typeof n.props.scrollableTarget?document.getElementById(n.props.scrollableTarget):(null===n.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},n.onStart=function(e){n.lastScrollTop||(n.dragging=!0,e instanceof MouseEvent?n.startY=e.pageY:e instanceof TouchEvent&&(n.startY=e.touches[0].pageY),n.currentY=n.startY,n._infScroll&&(n._infScroll.style.willChange="transform",n._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},n.onMove=function(e){n.dragging&&(e instanceof MouseEvent?n.currentY=e.pageY:e instanceof TouchEvent&&(n.currentY=e.touches[0].pageY),n.currentY<n.startY||(n.currentY-n.startY>=Number(n.props.pullDownToRefreshThreshold)&&n.setState({pullToRefreshThresholdBreached:!0}),n.currentY-n.startY>1.5*n.maxPullDownDistance||n._infScroll&&(n._infScroll.style.overflow="visible",n._infScroll.style.transform="translate3d(0px, "+(n.currentY-n.startY)+"px, 0px)")))},n.onEnd=function(){n.startY=0,n.currentY=0,n.dragging=!1,n.state.pullToRefreshThresholdBreached&&(n.props.refreshFunction&&n.props.refreshFunction(),n.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame((function(){n._infScroll&&(n._infScroll.style.overflow="auto",n._infScroll.style.transform="none",n._infScroll.style.willChange="unset")}))},n.onScrollListener=function(e){"function"===typeof n.props.onScroll&&setTimeout((function(){return n.props.onScroll&&n.props.onScroll(e)}),0);var t=n.props.height||n._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;n.actionTriggered||((n.props.inverse?n.isElementAtTop(t,n.props.scrollThreshold):n.isElementAtBottom(t,n.props.scrollThreshold))&&n.props.hasMore&&(n.actionTriggered=!0,n.setState({showLoader:!0}),n.props.next&&n.props.next()),n.lastScrollTop=t.scrollTop)},n.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},n.throttledOnScrollListener=function(e,t,n,a){var s,i=!1,r=0;function o(){s&&clearTimeout(s)}function c(){var c=this,l=Date.now()-r,u=arguments;function d(){r=Date.now(),n.apply(c,u)}function h(){s=void 0}i||(a&&!s&&d(),o(),void 0===a&&l>e?d():!0!==t&&(s=setTimeout(a?h:d,void 0===a?e-l:e)))}return"boolean"!==typeof t&&(a=n,n=t,t=void 0),c.cancel=function(){o(),i=!0},c}(150,n.onScrollListener).bind(n),n.onStart=n.onStart.bind(n),n.onMove=n.onMove.bind(n),n.onEnd=n.onEnd.bind(n),n}return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){if("undefined"===typeof this.props.dataLength)throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"===typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!==typeof this.props.refreshFunction))throw new Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(e,t){return e.dataLength!==t.prevDataLength?r(r({},t),{prevDataLength:e.dataLength}):null},t.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,a=u(t);return a.unit===o?e.scrollTop<=a.value+n-e.scrollHeight+1:e.scrollTop<=a.value/100+n-e.scrollHeight+1},t.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,a=u(t);return a.unit===o?e.scrollTop+n>=e.scrollHeight-a.value:e.scrollTop+n>=a.value/100*e.scrollHeight},t.prototype.render=function(){var e=this,t=r({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),n=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),a=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return s.a.createElement("div",{style:a,className:"infinite-scroll-component__outerdiv"},s.a.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:t},this.props.pullDownToRefresh&&s.a.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},s.a.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!n&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(a.Component);t.a=d},885:function(e,t){},890:function(e,t){},921:function(e,t,n){"use strict";var a=n(4),s=n(16),i=n(2),r=(n(3),n(54)),o=n(76),c=n(149),l=44,u=i.forwardRef((function(e,t){var n=e.classes,o=e.className,u=e.color,d=void 0===u?"primary":u,h=e.disableShrink,p=void 0!==h&&h,m=e.size,g=void 0===m?40:m,f=e.style,b=e.thickness,v=void 0===b?3.6:b,j=e.value,O=void 0===j?0:j,y=e.variant,x=void 0===y?"indeterminate":y,S=Object(s.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),C={},M={},T={};if("determinate"===x||"static"===x){var D=2*Math.PI*((l-v)/2);C.strokeDasharray=D.toFixed(3),T["aria-valuenow"]=Math.round(O),C.strokeDashoffset="".concat(((100-O)/100*D).toFixed(3),"px"),M.transform="rotate(-90deg)"}return i.createElement("div",Object(a.a)({className:Object(r.a)(n.root,o,"inherit"!==d&&n["color".concat(Object(c.a)(d))],{determinate:n.determinate,indeterminate:n.indeterminate,static:n.static}[x]),style:Object(a.a)({width:g,height:g},M,f),ref:t,role:"progressbar"},T,S),i.createElement("svg",{className:n.svg,viewBox:"".concat(22," ").concat(22," ").concat(l," ").concat(l)},i.createElement("circle",{className:Object(r.a)(n.circle,p&&n.circleDisableShrink,{determinate:n.circleDeterminate,indeterminate:n.circleIndeterminate,static:n.circleStatic}[x]),style:C,cx:l,cy:l,r:(l-v)/2,fill:"none",strokeWidth:v})))}));t.a=Object(o.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(u)}}]);