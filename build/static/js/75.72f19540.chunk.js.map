{"version":3,"sources":["component/AdminDashboard/AdminComponents/AdminTrainerSection/index.js"],"names":["AdminTrainerSection","React","useState","trainerList","setTrainerList","fetchAllTrainers","fetch","method","headers","Headers","Authorization","localStorage","getItem","then","response","json","data","console","log","ChangeApproval","id","state","trainerStatus","body","JSON","stringify","catch","error","useEffect","className","map","item","approve","onClick"],"mappings":"wJA2HeA,UAxHa,WACxB,MAAsCC,IAAMC,SAAS,IAArD,mBAAOC,EAAP,KAAoBC,EAApB,KAOA,SAASC,IACLC,MACI,mEACA,CACIC,OAAQ,MACRC,QAAS,IAAIC,QAAQ,CACjBC,cAAeC,aAAaC,QAAQ,eACpC,eAAgB,wCAIvBC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACHC,QAAQC,IAAIF,EAAI,KAAJ,MACZZ,EAAeY,EAAI,KAAJ,SAI3B,SAASG,EAAeC,EAAIC,GACxBJ,QAAQC,IACJ,uDAAyDE,EACzD,CAAEE,cAAeD,IAErB,IAAML,EAAO,CAAEM,cAAeD,GAE9Bf,MAAM,uDAAyDc,EAAI,CAC/Db,OAAQ,MACRC,QAAS,CACL,eAAgB,mBAChBE,cAAeC,aAAaC,QAAQ,gBAExCW,KAAMC,KAAKC,UAAUT,KAEpBH,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACHC,QAAQC,IAAI,WAAYF,GACxBX,OAEHqB,OAAM,SAACC,GACJV,QAAQU,MAAM,SAAUA,MAIpC,OAhDA1B,IAAM2B,WAAU,WAEZvB,MACD,IA8CC,qBAAKwB,UAAU,sBAAf,SACI,sBAAKA,UAAU,YAAf,UACI,oDACA,uBACA,8CACA,sBAAKA,UAAU,QAAf,UACI,sBAAKA,UAAU,eAAf,UACI,qBAAKA,UAAU,4BAAf,kBACA,qBAAKA,UAAU,4BAAf,mBACA,qBAAKA,UAAU,4BAAf,4BAGA,qBAAKA,UAAU,4BAAf,uBAGH1B,EAAY2B,KAAI,SAACC,GACd,IAAIC,EA0BJ,OAxBIA,EAD0B,aAA1BD,EAAI,cAEA,qBACIE,QAAS,kBACLd,EACIY,EAAI,GACJ,gBAJZ,wBAaA,qBACIE,QAAS,kBACLd,EAAeY,EAAI,GAAQ,aAFnC,qBAWJ,sBAAKF,UAAU,eAAf,UACI,qBAAKA,UAAU,oBAAf,SACKE,EAAI,YAET,qBAAKF,UAAU,oBAAf,SACKE,EAAI,QAET,qBAAKF,UAAU,oBAAf,SACKE,EAAI,gBAET,sBAAKF,UAAU,oBAAf,UACK,IACD,wBAAQA,UAAU,sBAAlB,SACKG,IACK,uB","file":"static/js/75.72f19540.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./styles.scss\";\r\n\r\nconst AdminTrainerSection = () => {\r\n    const [trainerList, setTrainerList] = React.useState([]);\r\n\r\n    React.useEffect(() => {\r\n        // console.log( localStorage.getItem('admin-token'));\r\n        fetchAllTrainers();\r\n    }, []);\r\n\r\n    function fetchAllTrainers() {\r\n        fetch(\r\n            \"http://doodlebluelive.com:2307/v1/admin/trainers?limit=20&page=1\",\r\n            {\r\n                method: \"get\",\r\n                headers: new Headers({\r\n                    Authorization: localStorage.getItem(\"admin-token\"),\r\n                    \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                }),\r\n            }\r\n        )\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                console.log(data[\"data\"][\"list\"]);\r\n                setTrainerList(data[\"data\"][\"list\"]);\r\n            });\r\n    }\r\n\r\n    function ChangeApproval(id, state) {\r\n        console.log(\r\n            \"http://doodlebluelive.com:2307/v1/trainer?trainerId=\" + id,\r\n            { trainerStatus: state }\r\n        );\r\n        const data = { trainerStatus: state };\r\n\r\n        fetch(\"http://doodlebluelive.com:2307/v1/trainer?trainerId=\" + id, {\r\n            method: \"PUT\", // or 'PUT'\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: localStorage.getItem(\"admin-token\"),\r\n            },\r\n            body: JSON.stringify(data),\r\n        })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                console.log(\"Success:\", data);\r\n                fetchAllTrainers();\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error:\", error);\r\n            });\r\n    }\r\n\r\n    return (\r\n        <div className=\"outter_container_AD\">\r\n            <div className=\"container\">\r\n                <h2>Admin Overall Data</h2>\r\n                <br></br>\r\n                <h3>Trainer List</h3>\r\n                <div className=\"admin\">\r\n                    <div className=\"tariner_info\">\r\n                        <div className=\"tariner_info_item_heading\">Name</div>\r\n                        <div className=\"tariner_info_item_heading\">Email</div>\r\n                        <div className=\"tariner_info_item_heading\">\r\n                            Trainer Status\r\n                        </div>\r\n                        <div className=\"tariner_info_item_heading\">Action</div>\r\n                    </div>\r\n\r\n                    {trainerList.map((item) => {\r\n                        var approve;\r\n                        if (item[\"trainerStatus\"] === \"approved\") {\r\n                            approve = (\r\n                                <div\r\n                                    onClick={() =>\r\n                                        ChangeApproval(\r\n                                            item[\"id\"],\r\n                                            \"disapproved\"\r\n                                        )\r\n                                    }\r\n                                >\r\n                                    Disapprove\r\n                                </div>\r\n                            );\r\n                        } else {\r\n                            approve = (\r\n                                <div\r\n                                    onClick={() =>\r\n                                        ChangeApproval(item[\"id\"], \"approved\")\r\n                                    }\r\n                                >\r\n                                    Approve\r\n                                </div>\r\n                            );\r\n                        }\r\n\r\n                        return (\r\n                            <div className=\"trainer_info\">\r\n                                <div className=\"tariner_info_item\">\r\n                                    {item[\"firstName\"]}\r\n                                </div>\r\n                                <div className=\"tariner_info_item\">\r\n                                    {item[\"email\"]}\r\n                                </div>\r\n                                <div className=\"tariner_info_item\">\r\n                                    {item[\"trainerStatus\"]}\r\n                                </div>\r\n                                <div className=\"tariner_info_item\">\r\n                                    {\" \"}\r\n                                    <button className=\"tariner_info_button\">\r\n                                        {approve}\r\n                                    </button>{\" \"}\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AdminTrainerSection;\r\n"],"sourceRoot":""}