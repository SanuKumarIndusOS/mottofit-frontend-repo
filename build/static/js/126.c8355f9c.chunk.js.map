{"version":3,"sources":["component/UserBookSession/UserPayments/subcomponents/CardForm.js","../node_modules/@stripe/react-stripe-js/dist/react-stripe.umd.js"],"names":["CardForm","connect","dispatch","bindActionCreators","updateUserDetails","stripe","useStripe","elements","useElements","useMemo","style","base","color","letterSpacing","fontFamily","invalid","useState","isRememberCard","setRememberCard","defaulCardDetails","setDefaultCardDetails","showCardComp","setShowCardComp","useEffect","getUserPaymentInfo","handleSubmit","event","a","preventDefault","cardElement","getElement","CardNumberElement","createPaymentMethod","type","card","error","paymentMethod","console","log","createToken","then","token","addCard","id","addCardDetails","PaymentApi","payload","cardToken","SetDefault","body","api","data","catch","err","getPaymentMethods","filter","default","length","reduxData","onSubmit","className","options","hidePostalCode","fontSize","last4","exp_month","exp_year","onClick","checked","onChange","for","to","width","marginRight","disabled","exports","React","_typeof","obj","Symbol","iterator","constructor","prototype","_objectWithoutPropertiesLoose","source","excluded","key","i","target","sourceKeys","Object","keys","indexOf","_objectWithoutProperties","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","call","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","Array","isArray","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","o","minLen","_arrayLikeToArray","n","toString","slice","name","from","test","len","arr2","TypeError","createCommonjsModule","fn","module","hasOwnProperty","ReactPropTypesSecret_1","emptyFunction","emptyFunctionWithReset","resetWarningCache","factoryWithThrowingShims","shim","props","propName","componentName","location","propFullName","secret","Error","getShim","isRequired","ReactPropTypes","array","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","propTypes","isUnknownObject","raw","isPromise","isStripe","confirmCardPayment","PLAIN_OBJECT_STR","isEqual","left","right","leftArray","leftPlainObject","leftKeys","rightKeys","keySet","allKeys","l","r","pred","every","usePrevious","ref","useRef","current","INVALID_STRIPE_ERROR","validateStripe","maybeStripe","parseStripeProp","tag","stripePromise","Promise","resolve","ElementsContext","createContext","displayName","parseElementsContext","ctx","useCase","concat","Elements","_ref","rawStripeProp","children","_final","isMounted","parsed","_React$useState2","setContext","prevStripe","prevOptions","warn","anyStripe","_registerWrapper","version","createElement","Provider","useElementsContextWithUseCase","useCaseMessage","useContext","ElementsConsumer","_ref2","useCallbackReference","cb","apply","arguments","extractUpdateableOptions","paymentRequest","noop","capitalized","str","charAt","toUpperCase","createElementComponent","isServer","Element","_ref$options","_ref$onBlur","onBlur","_ref$onFocus","onFocus","_ref$onReady","onReady","_ref$onChange","_ref$onEscape","onEscape","_ref$onClick","elementRef","domNode","callOnReady","callOnBlur","callOnFocus","callOnClick","callOnChange","callOnEscape","useLayoutEffect","create","mount","on","updateableOptions","update","destroy","__elementType","window","AuBankAccountElement","CardElement","CardExpiryElement","CardCvcElement","FpxBankElement","IbanElement","IdealBankElement","P24BankElement","EpsBankElement","PaymentRequestButtonElement","AfterpayClearpayMessageElement","defineProperty","factory","require"],"mappings":"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","file":"static/js/126.c8355f9c.chunk.js","sourcesContent":["import React, { useMemo, useState, useEffect } from \"react\";\r\nimport {\r\n  useStripe,\r\n  useElements,\r\n  CardNumberElement,\r\n  CardCvcElement,\r\n  CardExpiryElement,\r\n} from \"@stripe/react-stripe-js\";\r\nimport \"../styles.scss\";\r\nimport ArrowHoverBlacked from \"../../../common/BlackCircleButton/ArrowHoverBlacked\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { PaymentApi } from \"service/apiVariables\";\r\nimport { api } from \"service/api\";\r\nimport { updateUserDetails } from \"action/userAct\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst useOptions = () => {\r\n  const options = useMemo(() => ({\r\n    style: {\r\n      base: {\r\n        color: \"#424770\",\r\n        letterSpacing: \"0.025em\",\r\n        fontFamily: \"Source Code Pro, monospace\",\r\n        \"::placeholder\": {\r\n          color: \"#aab7c4\",\r\n        },\r\n      },\r\n      invalid: {\r\n        color: \"#9e2146\",\r\n      },\r\n    },\r\n  }));\r\n\r\n  return options;\r\n};\r\n\r\nfunction CardFormFC({ updateUserDetails }) {\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const options = useOptions();\r\n  const [isRememberCard, setRememberCard] = useState(false);\r\n  const [defaulCardDetails, setDefaultCardDetails] = useState({});\r\n  const [showCardComp, setShowCardComp] = useState(true);\r\n\r\n  useEffect(() => {\r\n    getUserPaymentInfo();\r\n  }, []);\r\n\r\n  const handleSubmit = async (event) => {\r\n    // Block native form submission.\r\n    event.preventDefault();\r\n\r\n    if (!stripe || !elements) {\r\n      // Stripe.js has not loaded yet. Make sure to disable\r\n      // form submission until Stripe.js has loaded.\r\n      return;\r\n    }\r\n\r\n    // Get a reference to a mounted CardElement. Elements knows how\r\n    // to find your CardElement because there can only ever be one of\r\n    // each type of element.\r\n    const cardElement = elements.getElement(CardNumberElement);\r\n\r\n    // console.log(cardElement);\r\n\r\n    // Use your card Element with other Stripe.js APIs\r\n    const { error, paymentMethod } = await stripe.createPaymentMethod({\r\n      type: \"card\",\r\n      card: cardElement,\r\n    });\r\n\r\n    if (error) {\r\n      console.log(\"[error]\", error);\r\n    } else {\r\n      console.log(\"[PaymentMethod]\", paymentMethod);\r\n    }\r\n\r\n    stripe.createToken(cardElement).then(function ({ token }) {\r\n      // Handle result.error or result.token\r\n\r\n      addCard(token.id);\r\n      //   console.log(result, \"token\");\r\n    });\r\n\r\n    // alert(\"Card Saved\");\r\n  };\r\n\r\n  const addCard = (token) => {\r\n    const { addCardDetails } = PaymentApi;\r\n\r\n    let payload = {\r\n      cardToken: token,\r\n      SetDefault: isRememberCard,\r\n    };\r\n\r\n    addCardDetails.body = payload;\r\n\r\n    api({ ...addCardDetails })\r\n      .then(({ data }) => {\r\n        console.log(data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const getUserPaymentInfo = () => {\r\n    const { getPaymentMethods } = PaymentApi;\r\n\r\n    api({ ...getPaymentMethods })\r\n      .then(({ data = [] }) => {\r\n        let tempData = data || [];\r\n\r\n        const defaulCardDetails = tempData.filter((data) => data.default);\r\n\r\n        if (defaulCardDetails.length > 0) {\r\n          setDefaultCardDetails(defaulCardDetails[0]);\r\n          setShowCardComp(false);\r\n\r\n          let reduxData = {\r\n            defaulCardDetails: defaulCardDetails[0],\r\n          };\r\n\r\n          console.log(reduxData);\r\n          updateUserDetails(reduxData);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit} className=\"Card\">\r\n        <div className=\"payment_input_inner\">\r\n          <label>Card Number</label>\r\n\r\n          {showCardComp ? (\r\n            <CardNumberElement\r\n              options={{\r\n                hidePostalCode: true,\r\n                style: {\r\n                  base: {\r\n                    fontSize: \"16px\",\r\n                    color: \"#424770\",\r\n                    \"::placeholder\": {\r\n                      color: \"#898989\",\r\n                      fontFamily: \"Montserrat\",\r\n                      fontSize: \"16px\",\r\n                    },\r\n                  },\r\n                  invalid: {\r\n                    color: \"#9e2146\",\r\n                  },\r\n                },\r\n              }}\r\n            />\r\n          ) : (\r\n            <p className=\"fs-20\">{`**** **** **** ${\r\n              defaulCardDetails?.card?.last4 || \"****\"\r\n            }`}</p>\r\n          )}\r\n\r\n          <div className=\"payment_expire_input\">\r\n            <div className=\"payment_expire_inner\">\r\n              <label>\r\n                Expiry Date\r\n                {showCardComp ? (\r\n                  <CardExpiryElement\r\n                    options={{\r\n                      style: {\r\n                        base: {\r\n                          fontSize: \"16px\",\r\n                          color: \"#424770\",\r\n                          \"::placeholder\": {\r\n                            color: \"#898989\",\r\n                            fontFamily: \"Montserrat\",\r\n                            fontSize: \"16px\",\r\n                          },\r\n                        },\r\n                        invalid: {\r\n                          color: \"#9e2146\",\r\n                        },\r\n                      },\r\n                    }}\r\n                  />\r\n                ) : (\r\n                  <p className=\"fs-20\">{`${\r\n                    defaulCardDetails?.card?.exp_month || \"\"\r\n                  }/${defaulCardDetails?.card?.exp_year || \"\"}`}</p>\r\n                )}\r\n              </label>\r\n            </div>\r\n            <div className=\"payment_expire_inner\">\r\n              {showCardComp && (\r\n                <label>\r\n                  CVC/CVV\r\n                  <CardCvcElement\r\n                    options={{\r\n                      style: {\r\n                        base: {\r\n                          fontSize: \"16px\",\r\n                          color: \"#424770\",\r\n                          \"::placeholder\": {\r\n                            color: \"#898989\",\r\n                            fontFamily: \"Montserrat\",\r\n                            fontSize: \"16px\",\r\n                          },\r\n                        },\r\n                        invalid: {\r\n                          color: \"#9e2146\",\r\n                        },\r\n                      },\r\n                    }}\r\n                  />\r\n                </label>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {defaulCardDetails.default && (\r\n            <>\r\n              {showCardComp ? (\r\n                <div className=\"payment_change d-flex justify-content-end\">\r\n                  <button\r\n                    className=\"link-btn\"\r\n                    onClick={() => setShowCardComp(false)}\r\n                  >\r\n                    Reset Card\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <div className=\"payment_change d-flex justify-content-end\">\r\n                  <button\r\n                    className=\"link-btn\"\r\n                    onClick={() => setShowCardComp(true)}\r\n                  >\r\n                    Change Card\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n\r\n          {showCardComp && (\r\n            <div className=\"payment_input_check mt-3\">\r\n              <div className=\"payment_check_inner\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={isRememberCard}\r\n                  onChange={() => setRememberCard(!isRememberCard)}\r\n                  id=\"remember_card\"\r\n                />\r\n                <label for=\"remember_card\">Remember My Card Details</label>\r\n              </div>\r\n              <div className=\"payment_check_inner\">\r\n                <Link to=\"/\">Session Cancellation Policy</Link>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"payment_input_outter_check \">\r\n          <div className=\"payment_terms\">\r\n            <input\r\n              type=\"checkbox\"\r\n              style={{ width: \"20px\", marginRight: \"10px\" }}\r\n            />\r\n            <label>\r\n              By proceeding, you accept the latest versions of our{\" \"}\r\n              <Link to=\"/\">Terms of Use</Link> and{\" \"}\r\n              <Link to=\"/\">Privacy Policy</Link>\r\n            </label>\r\n          </div>\r\n        </div>\r\n\r\n        {showCardComp && (\r\n          <div className=\"submit\">\r\n            <button type=\"submit\" disabled={!stripe}>\r\n              Save Card <ArrowHoverBlacked />\r\n            </button>\r\n          </div>\r\n        )}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      updateUserDetails,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nconst CardForm = connect(null, mapDispatchToProps)(CardFormFC);\r\n\r\nexport default CardForm;\r\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'react'], factory) :\n  (global = global || self, factory(global.ReactStripe = {}, global.React));\n}(this, (function (exports, React) { 'use strict';\n\n  React = React && Object.prototype.hasOwnProperty.call(React, 'default') ? React['default'] : React;\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n  var ReactPropTypesSecret_1 = ReactPropTypesSecret;\n\n  function emptyFunction() {}\n\n  function emptyFunctionWithReset() {}\n\n  emptyFunctionWithReset.resetWarningCache = emptyFunction;\n\n  var factoryWithThrowingShims = function () {\n    function shim(props, propName, componentName, location, propFullName, secret) {\n      if (secret === ReactPropTypesSecret_1) {\n        // It is still safe when called from React.\n        return;\n      }\n\n      var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n      err.name = 'Invariant Violation';\n      throw err;\n    }\n    shim.isRequired = shim;\n\n    function getShim() {\n      return shim;\n    }\n    // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n    var ReactPropTypes = {\n      array: shim,\n      bool: shim,\n      func: shim,\n      number: shim,\n      object: shim,\n      string: shim,\n      symbol: shim,\n      any: shim,\n      arrayOf: getShim,\n      element: shim,\n      elementType: shim,\n      instanceOf: getShim,\n      node: shim,\n      objectOf: getShim,\n      oneOf: getShim,\n      oneOfType: getShim,\n      shape: getShim,\n      exact: getShim,\n      checkPropTypes: emptyFunctionWithReset,\n      resetWarningCache: emptyFunction\n    };\n    ReactPropTypes.PropTypes = ReactPropTypes;\n    return ReactPropTypes;\n  };\n\n  var propTypes = createCommonjsModule(function (module) {\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  {\n    // By explicitly using `prop-types` you are opting into new production behavior.\n    // http://fb.me/prop-types-in-prod\n    module.exports = factoryWithThrowingShims();\n  }\n  });\n\n  var isUnknownObject = function isUnknownObject(raw) {\n    return raw !== null && _typeof(raw) === 'object';\n  };\n  var isPromise = function isPromise(raw) {\n    return isUnknownObject(raw) && typeof raw.then === 'function';\n  }; // We are using types to enforce the `stripe` prop in this lib,\n  // but in an untyped integration `stripe` could be anything, so we need\n  // to do some sanity validation to prevent type errors.\n\n  var isStripe = function isStripe(raw) {\n    return isUnknownObject(raw) && typeof raw.elements === 'function' && typeof raw.createToken === 'function' && typeof raw.createPaymentMethod === 'function' && typeof raw.confirmCardPayment === 'function';\n  };\n\n  var PLAIN_OBJECT_STR = '[object Object]';\n  var isEqual = function isEqual(left, right) {\n    if (!isUnknownObject(left) || !isUnknownObject(right)) {\n      return left === right;\n    }\n\n    var leftArray = Array.isArray(left);\n    var rightArray = Array.isArray(right);\n    if (leftArray !== rightArray) return false;\n    var leftPlainObject = Object.prototype.toString.call(left) === PLAIN_OBJECT_STR;\n    var rightPlainObject = Object.prototype.toString.call(right) === PLAIN_OBJECT_STR;\n    if (leftPlainObject !== rightPlainObject) return false;\n    if (!leftPlainObject && !leftArray) return false;\n    var leftKeys = Object.keys(left);\n    var rightKeys = Object.keys(right);\n    if (leftKeys.length !== rightKeys.length) return false;\n    var keySet = {};\n\n    for (var i = 0; i < leftKeys.length; i += 1) {\n      keySet[leftKeys[i]] = true;\n    }\n\n    for (var _i = 0; _i < rightKeys.length; _i += 1) {\n      keySet[rightKeys[_i]] = true;\n    }\n\n    var allKeys = Object.keys(keySet);\n\n    if (allKeys.length !== leftKeys.length) {\n      return false;\n    }\n\n    var l = left;\n    var r = right;\n\n    var pred = function pred(key) {\n      return isEqual(l[key], r[key]);\n    };\n\n    return allKeys.every(pred);\n  };\n\n  var usePrevious = function usePrevious(value) {\n    var ref = React.useRef(value);\n    React.useEffect(function () {\n      ref.current = value;\n    }, [value]);\n    return ref.current;\n  };\n\n  var INVALID_STRIPE_ERROR = 'Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.'; // We are using types to enforce the `stripe` prop in this lib, but in a real\n  // integration `stripe` could be anything, so we need to do some sanity\n  // validation to prevent type errors.\n\n  var validateStripe = function validateStripe(maybeStripe) {\n    if (maybeStripe === null || isStripe(maybeStripe)) {\n      return maybeStripe;\n    }\n\n    throw new Error(INVALID_STRIPE_ERROR);\n  };\n\n  var parseStripeProp = function parseStripeProp(raw) {\n    if (isPromise(raw)) {\n      return {\n        tag: 'async',\n        stripePromise: Promise.resolve(raw).then(validateStripe)\n      };\n    }\n\n    var stripe = validateStripe(raw);\n\n    if (stripe === null) {\n      return {\n        tag: 'empty'\n      };\n    }\n\n    return {\n      tag: 'sync',\n      stripe: stripe\n    };\n  };\n\n  var ElementsContext = /*#__PURE__*/React.createContext(null);\n  ElementsContext.displayName = 'ElementsContext';\n  var parseElementsContext = function parseElementsContext(ctx, useCase) {\n    if (!ctx) {\n      throw new Error(\"Could not find Elements context; You need to wrap the part of your app that \".concat(useCase, \" in an <Elements> provider.\"));\n    }\n\n    return ctx;\n  };\n  /**\n   * The `Elements` provider allows you to use [Element components](https://stripe.com/docs/stripe-js/react#element-components) and access the [Stripe object](https://stripe.com/docs/js/initializing) in any nested component.\n   * Render an `Elements` provider at the root of your React app so that it is available everywhere you need it.\n   *\n   * To use the `Elements` provider, call `loadStripe` from `@stripe/stripe-js` with your publishable key.\n   * The `loadStripe` function will asynchronously load the Stripe.js script and initialize a `Stripe` object.\n   * Pass the returned `Promise` to `Elements`.\n   *\n   * @docs https://stripe.com/docs/stripe-js/react#elements-provider\n   */\n\n  var Elements = function Elements(_ref) {\n    var rawStripeProp = _ref.stripe,\n        options = _ref.options,\n        children = _ref.children;\n\n    var _final = React.useRef(false);\n\n    var isMounted = React.useRef(true);\n    var parsed = React.useMemo(function () {\n      return parseStripeProp(rawStripeProp);\n    }, [rawStripeProp]);\n\n    var _React$useState = React.useState(function () {\n      return {\n        stripe: null,\n        elements: null\n      };\n    }),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        ctx = _React$useState2[0],\n        setContext = _React$useState2[1];\n\n    var prevStripe = usePrevious(rawStripeProp);\n    var prevOptions = usePrevious(options);\n\n    if (prevStripe !== null) {\n      if (prevStripe !== rawStripeProp) {\n        console.warn('Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.');\n      }\n\n      if (!isEqual(options, prevOptions)) {\n        console.warn('Unsupported prop change on Elements: You cannot change the `options` prop after setting the `stripe` prop.');\n      }\n    }\n\n    if (!_final.current) {\n      if (parsed.tag === 'sync') {\n        _final.current = true;\n        setContext({\n          stripe: parsed.stripe,\n          elements: parsed.stripe.elements(options)\n        });\n      }\n\n      if (parsed.tag === 'async') {\n        _final.current = true;\n        parsed.stripePromise.then(function (stripe) {\n          if (stripe && isMounted.current) {\n            // Only update Elements context if the component is still mounted\n            // and stripe is not null. We allow stripe to be null to make\n            // handling SSR easier.\n            setContext({\n              stripe: stripe,\n              elements: stripe.elements(options)\n            });\n          }\n        });\n      }\n    }\n\n    React.useEffect(function () {\n      return function () {\n        isMounted.current = false;\n      };\n    }, []);\n    React.useEffect(function () {\n      var anyStripe = ctx.stripe;\n\n      if (!anyStripe || !anyStripe._registerWrapper) {\n        return;\n      }\n\n      anyStripe._registerWrapper({\n        name: 'react-stripe-js',\n        version: \"1.4.0\"\n      });\n    }, [ctx.stripe]);\n    return /*#__PURE__*/React.createElement(ElementsContext.Provider, {\n      value: ctx\n    }, children);\n  };\n  Elements.propTypes = {\n    stripe: propTypes.any,\n    options: propTypes.object\n  };\n  var useElementsContextWithUseCase = function useElementsContextWithUseCase(useCaseMessage) {\n    var ctx = React.useContext(ElementsContext);\n    return parseElementsContext(ctx, useCaseMessage);\n  };\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#useelements-hook\n   */\n\n  var useElements = function useElements() {\n    var _useElementsContextWi = useElementsContextWithUseCase('calls useElements()'),\n        elements = _useElementsContextWi.elements;\n\n    return elements;\n  };\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#usestripe-hook\n   */\n\n  var useStripe = function useStripe() {\n    var _useElementsContextWi2 = useElementsContextWithUseCase('calls useStripe()'),\n        stripe = _useElementsContextWi2.stripe;\n\n    return stripe;\n  };\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#elements-consumer\n   */\n\n  var ElementsConsumer = function ElementsConsumer(_ref2) {\n    var children = _ref2.children;\n    var ctx = useElementsContextWithUseCase('mounts <ElementsConsumer>'); // Assert to satisfy the busted React.FC return type (it should be ReactNode)\n\n    return children(ctx);\n  };\n  ElementsConsumer.propTypes = {\n    children: propTypes.func.isRequired\n  };\n\n  var useCallbackReference = function useCallbackReference(cb) {\n    var ref = React.useRef(cb);\n    React.useEffect(function () {\n      ref.current = cb;\n    }, [cb]);\n    return function () {\n      if (ref.current) {\n        ref.current.apply(ref, arguments);\n      }\n    };\n  };\n\n  var extractUpdateableOptions = function extractUpdateableOptions(options) {\n    if (!isUnknownObject(options)) {\n      return {};\n    }\n\n    var _ = options.paymentRequest,\n        rest = _objectWithoutProperties(options, [\"paymentRequest\"]);\n\n    return rest;\n  };\n\n  var noop = function noop() {};\n\n  var capitalized = function capitalized(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  };\n\n  var createElementComponent = function createElementComponent(type, isServer) {\n    var displayName = \"\".concat(capitalized(type), \"Element\");\n\n    var ClientElement = function ClientElement(_ref) {\n      var id = _ref.id,\n          className = _ref.className,\n          _ref$options = _ref.options,\n          options = _ref$options === void 0 ? {} : _ref$options,\n          _ref$onBlur = _ref.onBlur,\n          onBlur = _ref$onBlur === void 0 ? noop : _ref$onBlur,\n          _ref$onFocus = _ref.onFocus,\n          onFocus = _ref$onFocus === void 0 ? noop : _ref$onFocus,\n          _ref$onReady = _ref.onReady,\n          onReady = _ref$onReady === void 0 ? noop : _ref$onReady,\n          _ref$onChange = _ref.onChange,\n          onChange = _ref$onChange === void 0 ? noop : _ref$onChange,\n          _ref$onEscape = _ref.onEscape,\n          onEscape = _ref$onEscape === void 0 ? noop : _ref$onEscape,\n          _ref$onClick = _ref.onClick,\n          onClick = _ref$onClick === void 0 ? noop : _ref$onClick;\n\n      var _useElementsContextWi = useElementsContextWithUseCase(\"mounts <\".concat(displayName, \">\")),\n          elements = _useElementsContextWi.elements;\n\n      var elementRef = React.useRef(null);\n      var domNode = React.useRef(null);\n      var callOnReady = useCallbackReference(onReady);\n      var callOnBlur = useCallbackReference(onBlur);\n      var callOnFocus = useCallbackReference(onFocus);\n      var callOnClick = useCallbackReference(onClick);\n      var callOnChange = useCallbackReference(onChange);\n      var callOnEscape = useCallbackReference(onEscape);\n      React.useLayoutEffect(function () {\n        if (elementRef.current == null && elements && domNode.current != null) {\n          var element = elements.create(type, options);\n          elementRef.current = element;\n          element.mount(domNode.current);\n          element.on('ready', function () {\n            return callOnReady(element);\n          });\n          element.on('change', callOnChange);\n          element.on('blur', callOnBlur);\n          element.on('focus', callOnFocus);\n          element.on('escape', callOnEscape); // Users can pass an an onClick prop on any Element component\n          // just as they could listen for the `click` event on any Element,\n          // but only the PaymentRequestButton will actually trigger the event.\n\n          element.on('click', callOnClick);\n        }\n      });\n      var prevOptions = React.useRef(options);\n      React.useEffect(function () {\n        if (prevOptions.current && prevOptions.current.paymentRequest !== options.paymentRequest) {\n          console.warn('Unsupported prop change: options.paymentRequest is not a customizable property.');\n        }\n\n        var updateableOptions = extractUpdateableOptions(options);\n\n        if (Object.keys(updateableOptions).length !== 0 && !isEqual(updateableOptions, extractUpdateableOptions(prevOptions.current))) {\n          if (elementRef.current) {\n            elementRef.current.update(updateableOptions);\n            prevOptions.current = options;\n          }\n        }\n      }, [options]);\n      React.useLayoutEffect(function () {\n        return function () {\n          if (elementRef.current) {\n            elementRef.current.destroy();\n          }\n        };\n      }, []);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: id,\n        className: className,\n        ref: domNode\n      });\n    }; // Only render the Element wrapper in a server environment.\n\n\n    var ServerElement = function ServerElement(props) {\n      // Validate that we are in the right context by calling useElementsContextWithUseCase.\n      useElementsContextWithUseCase(\"mounts <\".concat(displayName, \">\"));\n      var id = props.id,\n          className = props.className;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: id,\n        className: className\n      });\n    };\n\n    var Element = isServer ? ServerElement : ClientElement;\n    Element.propTypes = {\n      id: propTypes.string,\n      className: propTypes.string,\n      onChange: propTypes.func,\n      onBlur: propTypes.func,\n      onFocus: propTypes.func,\n      onReady: propTypes.func,\n      onClick: propTypes.func,\n      options: propTypes.object\n    };\n    Element.displayName = displayName;\n    Element.__elementType = type;\n    return Element;\n  };\n\n  var isServer = typeof window === 'undefined';\n  /**\n   * Requires beta access:\n   * Contact [Stripe support](https://support.stripe.com/) for more information.\n   *\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var AuBankAccountElement = createElementComponent('auBankAccount', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardElement = createElementComponent('card', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardNumberElement = createElementComponent('cardNumber', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardExpiryElement = createElementComponent('cardExpiry', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardCvcElement = createElementComponent('cardCvc', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var FpxBankElement = createElementComponent('fpxBank', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var IbanElement = createElementComponent('iban', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var IdealBankElement = createElementComponent('idealBank', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var P24BankElement = createElementComponent('p24Bank', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var EpsBankElement = createElementComponent('epsBank', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var PaymentRequestButtonElement = createElementComponent('paymentRequestButton', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var AfterpayClearpayMessageElement = createElementComponent('afterpayClearpayMessage', isServer);\n\n  exports.AfterpayClearpayMessageElement = AfterpayClearpayMessageElement;\n  exports.AuBankAccountElement = AuBankAccountElement;\n  exports.CardCvcElement = CardCvcElement;\n  exports.CardElement = CardElement;\n  exports.CardExpiryElement = CardExpiryElement;\n  exports.CardNumberElement = CardNumberElement;\n  exports.Elements = Elements;\n  exports.ElementsConsumer = ElementsConsumer;\n  exports.EpsBankElement = EpsBankElement;\n  exports.FpxBankElement = FpxBankElement;\n  exports.IbanElement = IbanElement;\n  exports.IdealBankElement = IdealBankElement;\n  exports.P24BankElement = P24BankElement;\n  exports.PaymentRequestButtonElement = PaymentRequestButtonElement;\n  exports.useElements = useElements;\n  exports.useStripe = useStripe;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n"],"sourceRoot":""}