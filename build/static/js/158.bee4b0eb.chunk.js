(this.webpackJsonpmotto=this.webpackJsonpmotto||[]).push([[158,221],{355:function(e,t,a){"use strict";a.r(t);var s=a(14),n=a.n(s),i=a(36),c=a(5),r=a(28),l=a(11),o=a(2),d=a(19),j=(a(598),a(159)),m=a(155),b=a(25),u=a(79),p=a(30),O=a(6),h=a(114),g=a(1),x=Object(p.b)(null,(function(e){return Object(b.b)({loginAct:u.loginOrSignUp},e)}))((function(e){var t=e.loginAct,a=Object(o.useState)({email:"",password:"",signUpType:"email",deviceName:"email"}),s=Object(l.a)(a,2),b=s[0],u=s[1],p=Object(o.useState)({}),x=Object(l.a)(p,2),f=x[0],v=x[1],w=Object(o.useState)(!1),y=Object(l.a)(w,2),N=y[0],S=y[1],_=Object(o.useState)(!1),k=Object(l.a)(_,2),A=k[0],E=k[1],C=Object(o.useState)(""),U=Object(l.a)(C,2),I=U[0],L=U[1],P=Object(d.f)();function T(e){return q.apply(this,arguments)}function q(){return(q=Object(r.a)(n.a.mark((function e(a){var s,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),s={email:b.email,password:b.password,signUpType:b.signUpType,deviceName:b.deviceName},J(s)){e.next=4;break}return e.abrupt("return");case 4:i=O.AuthApi.adminApi,E(!0),L(""),t(i,s).then((function(e){var t=e.type,a=e.token,s=e.id;E(!1),"admin"===t&&(localStorage.setItem("admin-token",a),localStorage.setItem("user-id",s),localStorage.setItem("type",1),P.push("/admins/dashboard"))})).catch((function(e){E(!1),L("Sorry, something went wrong.",e.message)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(e){e.persist&&e.persist();var t=e.target||e||{},a=t.name,s=t.value,n=Object(c.a)({},f);n[a]=void 0,u(Object(c.a)(Object(c.a)({},b),{},Object(i.a)({},a,s))),v(Object(c.a)(Object(c.a)({},f),n))},J=function(e){var t=Object(h.default)(e,{email:{presence:{allowEmpty:!1,message:"^Email is required"},email:!0},password:{presence:{allowEmpty:!1,message:"^Password is required"},length:{minimum:8,tooShort:"must contain alteast 8 character",maximum:12,tooLong:"must contain less than 12 character"}}});if(void 0!==t){var a=Object(c.a)({},t);v(Object(c.a)(Object(c.a)({},a),t))}return!t};return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"outter_admin_login",children:Object(g.jsx)("div",{className:"container",children:Object(g.jsx)("div",{className:"inner_admin_login",children:Object(g.jsxs)("div",{className:"login_wraper",children:[Object(g.jsx)("h2",{children:"Mottofit Admin Dashboard "}),Object(g.jsx)("form",{onSubmit:T,children:Object(g.jsxs)("div",{className:"inner_form_loginAdmin",children:[Object(g.jsx)("label",{children:"Email"}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"input_item1_signin",children:[Object(g.jsx)("input",{type:"text",placeholder:"Email",value:b.email,onChange:D,name:"email"}),Object(g.jsx)("img",{src:j.default,alt:"icon"})]}),f.email&&Object(g.jsx)("span",{className:"fs-14 text-danger",children:f.email[0]})]}),Object(g.jsx)("label",{children:"Password"}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"input_item1_signin",children:[Object(g.jsx)("input",{type:N?"text":"password",placeholder:"Password",value:b.password,onChange:D,name:"password"}),Object(g.jsx)("img",{src:m.default,alt:"icon",onClick:function(){S(!N)}})]}),f.password&&Object(g.jsx)("span",{className:"fs-14 text-danger",children:f.password[0]})]}),I&&Object(g.jsx)("span",{className:"errorMessage",children:I}),Object(g.jsx)("button",{type:"submit",onClick:function(e){return T(e)},disabled:A,children:A?"Loading...":"Login"})]})})]})})})})})}));t.default=x},598:function(e,t,a){}}]);