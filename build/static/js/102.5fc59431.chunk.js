(this.webpackJsonpmotto=this.webpackJsonpmotto||[]).push([[102,254,255],{243:function(e,t,a){"use strict";a.r(t);var n=a(566),c=a(5),s=a(2),i=a.n(s),d=a(823),l=a.n(d),r=(a(830),a(43)),o=a.n(r),j=a(373),b=a(374),u=(a(15),a(1));var h=function(){return Object(u.jsx)("div",{className:"schedular_slots",children:Object(u.jsxs)("div",{className:"items_slots",children:[Object(u.jsxs)("div",{className:"item_slot1",children:[Object(u.jsx)("div",{className:"indicator"}),Object(u.jsx)("h5",{children:"AVAILABLE"})]}),Object(u.jsxs)("div",{className:"item_slot2",children:[Object(u.jsx)("div",{className:"indicator2"}),Object(u.jsx)("h5",{children:"UNAVAILABLE"})," "]}),Object(u.jsxs)("div",{className:"item_slot3",children:[Object(u.jsx)("div",{className:"indicator3"}),Object(u.jsx)("h5",{children:"BOOKED SLOT"})," "]})]})})};t.default=function(){var e=i.a.useState(!1),t=Object(c.a)(e,2),a=t[0],s=t[1],d=[[!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1]],r=["05:00 AM","05:30 AM","06:00 AM","06:30 AM","07:00 AM","07:30 AM","Early Bird"],m=["08:00 AM","08:30 AM","09:00 AM","09:30 AM","10:00 AM","10:30 AM","Rise & Shine"],O=["11:00 AM","11:30 AM","12:00 PM","12:30 PM","01:00 PM","01:30 PM","Mid-Day Break"],f=["02:00 PM","02:30 PM","03:00 PM","03:30 PM","04:00 PM","04:30 PM","Mid-Day Lunchtime"],x=["05:00 PM","05:30 PM","06:00 PM","06:30 PM","07:00 PM","07:30 PM","Happy Hour"],v=["08:00 PM","08:30 PM","09:00 PM","09:30 PM","10:00 PM","10:30 PM","Never Too Late"],_=i.a.useState(r),g=Object(c.a)(_,2),p=g[0],N=g[1],M=i.a.useState("EarlyBird"),y=Object(c.a)(M,2),D=y[0],S=y[1],k=i.a.useState([]),A=Object(c.a)(k,2),B=A[0],E=A[1],P=i.a.useState([]),T=Object(c.a)(P,2),Y=T[0],C=T[1],L=i.a.useState([[!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1]]),H=Object(c.a)(L,2),w=H[0],R=H[1],U=i.a.useState([]),W=Object(c.a)(U,2),F=W[0],I=W[1],V=i.a.useState(o()().startOf("isoWeek")),J=Object(c.a)(V,2),z=J[0],K=J[1],G=i.a.useState(o()().endOf("isoWeek")),q=Object(c.a)(G,2),Q=q[0],X=q[1],Z=localStorage.getItem("token"),$=new Object,ee=new Object,te=i.a.useState([]),ae=Object(c.a)(te,2),ne=ae[0],ce=ae[1],se=i.a.useState(),ie=Object(c.a)(se,2),de=ie[0],le=ie[1],re=i.a.useState(),oe=Object(c.a)(re,2),je=oe[0],be=oe[1];i.a.useEffect((function(){he(z,Q),ue(z,Q),console.log(D)}),[]),i.a.useEffect((function(){ue(z,Q)}),[je]),i.a.useEffect((function(){C([]),console.log("time changed"),he(z,Q),ue(z,Q)}),[p]),i.a.useEffect((function(){var e;Object.keys(ne).map((function(e){$[ne[e].slotDate]=ne[e].availabileTimes})),console.log($),Object.keys($).map((function(t){e=[],$[t].map((function(t){e.push(t.start)})),ee[t]=e})),le(ee),be(Object.keys(ee)),console.log(Object.keys(ee))}),[ne]),i.a.useEffect((function(){console.log(F),E([]),p.map((function(e){var t=[];F.map((function(a){t.push({date:a,time:e})})),E((function(e){return[].concat(Object(n.a)(e),[t])}))}))}),[F]),i.a.useEffect((function(){console.log("change",w,B),C([]),w.map((function(e,t){var a=[];0!==t&&(e.map((function(e,t){!0===e&&a.push(t-1)})),C((function(e){return[].concat(Object(n.a)(e),[a])})))}))}),[w]),i.a.useEffect((function(){console.log(Y);var e=[],t=[];if(Y.map((function(t,a){0!==t.length&&t.map((function(t,n){console.log(B[a][t]),e.push(B[a][t])}))})),0!==e.length&&(t=e.sort((function(e,t){return new Date(t.date)-new Date(e.date)})),console.log(t)),0!==t.length){console.log(t[0].time+"-"+t[t.length-1].time);var a={startDate:t[t.length-1].date,endDate:t[0].date,availabilitySlot:[{availableMode:D,availableSlots:[t[0].time+"-"+o()(t[t.length-1].time,"HH:mm a").add(30,"minutes").format("hh:mm A")]}]};fetch("http://doodlebluelive.com:2307/v1/addTrainerSlot",{method:"POST",headers:{"Content-Type":"application/json",Authorization:Z},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),alert("Slot Added"),R(d),he(z,Q)})).catch((function(e){console.error("Error:",e)}))}}),[Y]),i.a.useEffect((function(){}),[z]);var ue=function(e,t){E([]);for(var a=e.clone(),c=[];a.isSameOrBefore(t);)c.push(a.format("YYYY-MM-DD")),a.add(1,"days");I(c),0===B.length&&(console.log("0"),p.map((function(e){var t=[];c.map((function(a){t.push({date:a,time:e})})),E((function(e){return[].concat(Object(n.a)(e),[t])}))})))},he=function(e,t){var a=e.format("YYYY-MM-DD"),n=t.format("YYYY-MM-DD");console.log(a,n),console.log("http://doodlebluelive.com:2307/v1/trainer/calenderView?startDate="+a+"&endDate="+n+"&timeBlock="+D),fetch("http://doodlebluelive.com:2307/v1/trainer/calenderView?startDate="+a+"&endDate="+n+"&timeBlock="+D,{method:"GET",headers:{"Content-Type":"application/json",Authorization:Z}}).then((function(e){return e.json()})).then((function(e){ce(e.data)}))};function me(e,t){var a={date:e,mode:"EarlyBird",blockedSlot:t,state:"BLOCK"};fetch("http://doodlebluelive.com:2307/v1/block/trainerSlot",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:Z},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),R(d),he(z,Q)})).catch((function(e){console.error("Error:",e)}))}var Oe,fe,xe=function(){console.log("edit mode"),s(!a)};return 0===B.length?console.log("hitu"):(Oe=Object(u.jsxs)(l.a,{value:w,onChange:function(e){return R(e)},children:[Object(u.jsxs)("th",{children:[Object(u.jsx)("td",{disabled:!0,children:Object(u.jsxs)("h6",{style:{wordWrap:"break-word",lineHeight:"18px",paddingLeft:"0.5em",paddingRight:"0.5em",paddingBottom:"0em",fontFamily:"Montserrat",fontWeight:"800",color:"#898989",margin:0},children:[" ",p[6]]})}),Object(u.jsxs)("td",{disabled:!0,children:[Object(u.jsx)("div",{className:"table_header_number",children:F[0].slice(8,10)}),Object(u.jsx)("div",{className:"table_header_txt",children:"MON"})]}),Object(u.jsxs)("td",{disabled:!0,children:[Object(u.jsx)("div",{className:"table_header_number",children:F[1].slice(8,10)}),Object(u.jsx)("div",{className:"table_header_txt",children:"TUES"})]}),Object(u.jsxs)("td",{disabled:!0,children:[Object(u.jsx)("div",{className:"table_header_number",children:F[2].slice(8,10)}),Object(u.jsx)("div",{className:"table_header_txt",children:"WED"})]}),Object(u.jsxs)("td",{disabled:!0,children:[Object(u.jsx)("div",{className:"table_header_number",children:F[3].slice(8,10)}),Object(u.jsx)("div",{className:"table_header_txt",children:"THURS"})]}),Object(u.jsxs)("td",{disabled:!0,children:[Object(u.jsx)("div",{className:"table_header_number",children:F[4].slice(8,10)}),Object(u.jsx)("div",{className:"table_header_txt",children:"FRI"})]}),Object(u.jsxs)("td",{disabled:!0,children:[Object(u.jsx)("div",{className:"table_header_number",children:F[5].slice(8,10)}),Object(u.jsx)("div",{className:"table_header_txt",children:"SAT"})]}),Object(u.jsxs)("td",{disabled:!0,children:[Object(u.jsx)("div",{className:"table_header_number",children:F[6].slice(8,10)}),Object(u.jsx)("div",{className:"table_header_txt",children:"SUN"})]})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{disabled:!0,className:"slot_time",children:p[0]}),B[0].map((function(e){return 0!==je.length&&je.find((function(t){return t===e.date}))&&de[e.date].find((function(t){return t===e.time}))?(console.log(e.time),Object(u.jsx)("td",{disabled:!0,onClick:function(){return me(e.date,e.time)}})):Object(u.jsx)("td",{})}))]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{disabled:!0,className:"slot_time",children:p[1]}),B[1].map((function(e){return 0!==je.length&&je.find((function(t){return t===e.date}))&&de[e.date].find((function(t){return t===e.time}))?Object(u.jsx)("td",{disabled:!0,onClick:function(){return me(e.date,e.time)}}):Object(u.jsx)("td",{})}))]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{disabled:!0,className:"slot_time",children:p[2]}),B[2].map((function(e){return 0!==je.length&&je.find((function(t){return t===e.date}))&&de[e.date].find((function(t){return t===e.time}))?Object(u.jsx)("td",{disabled:!0,onClick:function(){return me(e.date,e.time)}}):Object(u.jsx)("td",{})}))]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{disabled:!0,className:"slot_time",children:p[3]}),B[3].map((function(e){return 0!==je.length&&je.find((function(t){return t===e.date}))&&de[e.date].find((function(t){return t===e.time}))?Object(u.jsx)("td",{disabled:!0,onClick:function(){return me(e.date,e.time)}}):Object(u.jsx)("td",{})}))]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{disabled:!0,className:"slot_time",children:p[4]}),B[4].map((function(e){return 0!==je.length&&je.find((function(t){return t===e.date}))&&de[e.date].find((function(t){return t===e.time}))?Object(u.jsx)("td",{disabled:!0,onClick:function(){return me(e.date,e.time)}}):Object(u.jsx)("td",{})}))]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{disabled:!0,className:"slot_time",children:p[5]}),B[5].map((function(e){return 0!==je.length&&je.find((function(t){return t===e.date}))&&de[e.date].find((function(t){return t===e.time}))?Object(u.jsx)("td",{disabled:!0,onClick:function(){return me(e.date,e.time)}}):Object(u.jsx)("td",{})}))]})]}),fe=Object(u.jsxs)("table",{value:w,onChange:function(e){return R(e)},className:"table2",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{disabled:!0,children:Object(u.jsxs)("h6",{style:{wordWrap:"break-word",lineHeight:"18px",paddingLeft:"0.5em",paddingRight:"0.5em",paddingBottom:"0em",fontFamily:"Montserrat",fontWeight:"800",color:"#898989",margin:0},children:[" ",p[6]]})}),Object(u.jsxs)("th",{disabled:!0,children:[Object(u.jsx)("div",{className:"table_header_number",children:F[0].slice(8,10)}),Object(u.jsx)("div",{className:"table_header_txt",children:"MON"})]}),Object(u.jsxs)("th",{disabled:!0,children:[Object(u.jsx)("div",{className:"table_header_number",children:F[1].slice(8,10)}),Object(u.jsx)("div",{className:"table_header_txt",children:"TUES"})]}),Object(u.jsxs)("th",{disabled:!0,children:[Object(u.jsx)("div",{className:"table_header_number",children:F[2].slice(8,10)}),Object(u.jsx)("div",{className:"table_header_txt",children:"WED"})]}),Object(u.jsxs)("th",{disabled:!0,children:[Object(u.jsx)("div",{className:"table_header_number",children:F[3].slice(8,10)}),Object(u.jsx)("div",{className:"table_header_txt",children:"THURS"})]}),Object(u.jsxs)("th",{disabled:!0,children:[Object(u.jsx)("div",{className:"table_header_number",children:F[4].slice(8,10)}),Object(u.jsx)("div",{className:"table_header_txt",children:"FRI"})]}),Object(u.jsxs)("th",{disabled:!0,children:[Object(u.jsx)("div",{className:"table_header_number",children:F[5].slice(8,10)}),Object(u.jsx)("div",{className:"table_header_txt",children:"SAT"})]}),Object(u.jsxs)("th",{disabled:!0,children:[Object(u.jsx)("div",{className:"table_header_number",children:F[6].slice(8,10)}),Object(u.jsx)("div",{className:"table_header_txt",children:"SUN"})]})]})}),Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{disabled:!0,className:"slot_time",style:{backgroundColor:"fff"},children:p[0]}),B[0].map((function(e){return 0!==je.length&&je.find((function(t){return t===e.date}))&&de[e.date].find((function(t){return t===e.time}))?(console.log(e.time),Object(u.jsx)("td",{disabled:!0,className:"avaiable_slot"})):Object(u.jsx)("td",{})}))]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{disabled:!0,className:"slot_time",children:p[1]}),B[1].map((function(e){return 0!==je.length&&je.find((function(t){return t===e.date}))&&de[e.date].find((function(t){return t===e.time}))?Object(u.jsx)("td",{disabled:!0,className:"avaiable_slot"}):Object(u.jsx)("td",{})}))]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{disabled:!0,className:"slot_time",children:p[2]}),B[2].map((function(e){return 0!==je.length&&je.find((function(t){return t===e.date}))&&de[e.date].find((function(t){return t===e.time}))?Object(u.jsx)("td",{disabled:!0,className:"avaiable_slot"}):Object(u.jsx)("td",{})}))]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{disabled:!0,className:"slot_time",children:p[3]}),B[3].map((function(e){return 0!==je.length&&je.find((function(t){return t===e.date}))&&de[e.date].find((function(t){return t===e.time}))?Object(u.jsx)("td",{disabled:!0,className:"avaiable_slot"}):Object(u.jsx)("td",{})}))]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{disabled:!0,className:"slot_time",children:p[4]}),B[4].map((function(e){return 0!==je.length&&je.find((function(t){return t===e.date}))&&de[e.date].find((function(t){return t===e.time}))?Object(u.jsx)("td",{disabled:!0,className:"avaiable_slot"}):Object(u.jsx)("td",{})}))]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{disabled:!0,className:"slot_time",children:p[5]}),B[5].map((function(e){return 0!==je.length&&je.find((function(t){return t===e.date}))&&de[e.date].find((function(t){return t===e.time}))?Object(u.jsx)("td",{disabled:!0,className:"avaiable_slot"}):Object(u.jsx)("td",{})}))]})]})]})),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"outter_table_trainer",children:[Object(u.jsxs)("div",{className:"table_trainer",children:[Object(u.jsxs)("div",{className:"table_inner_trainer",children:[Object(u.jsxs)("div",{className:"table_date",children:["\u2002",o()(z.format("YYYY-MM-DD")).isAfter(o()().startOf("isoWeek").format("YYYY-MM-DD"),"day")?Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:j.default,onClick:function(){R(d),K(z.subtract(7,"days")),X(Q.subtract(7,"days")),console.log(z.format("DD/MM"),Q.format("DD/MM")),he(z,Q),ue(z,Q)}})," ","\u2002"]}):Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:j.default,disabled:"true",style:{opacity:"0.5"}})," ","\u2002"]}),Object(u.jsxs)("div",{className:"date_week",children:[z.format("DD")," -"," ",Q.format("DD")," \u2002",z.format("MMMM"),","," ",z.format("yyyy")]}),Object(u.jsx)("img",{src:b.default,onClick:function(){R(d),K(z.add(7,"days")),X(Q.add(7,"days")),console.log(z.format("DD/MM"),Q.format("DD/MM")),he(z,Q),ue(z,Q)}})," \u2002 \u2002"]}),Object(u.jsx)("div",{className:"table_date",children:Object(u.jsxs)("select",{value:D,onChange:function(e){S(e.target.value),console.log(e.target.value),"EarlyBird"===e.target.value&&(N(r),console.log("early_bird")),"RiseAndShine"===e.target.value&&(N(m),console.log("RiseAndShine")),"MidDayBreak1"===e.target.value&&(N(O),console.log("MidDayBreak")),"MidDayBreak2"===e.target.value&&(N(f),console.log("MidDayBreak2")),"HappyHours"===e.target.value&&(N(x),console.log("HappyHours")),"NeverTooLate"===e.target.value&&(N(v),console.log("NeverTooLate"))},children:[Object(u.jsx)("option",{value:"EarlyBird",children:"Early Bird"}),Object(u.jsx)("option",{value:"RiseAndShine",children:"Rise & Shine"}),Object(u.jsx)("option",{value:"MidDayBreak1",children:"Mid-Day Break"}),Object(u.jsx)("option",{value:"MidDayBreak2",children:"Mid-Day Lunchtime"}),Object(u.jsx)("option",{value:"HappyHours",children:"Happy Hour"}),Object(u.jsx)("option",{value:"NeverTooLate",children:"Never Too Late"})]})})]}),a?Object(u.jsxs)("div",{children:[" ",Oe," "]}):Object(u.jsxs)("div",{children:[" ",fe," "]}),Object(u.jsx)("div",{className:"scheduler_button",children:a?Object(u.jsx)("button",{onClick:xe,className:"scheduler_button",style:{backgroundColor:"#53d27d",width:"100%"},children:"SAVE"}):Object(u.jsx)("button",{onClick:xe,className:"scheduler_button",style:{backgroundColor:"#53bfd2",width:"100%"},children:"ADD YOUR SLOT"})})]}),Object(u.jsx)(h,{})]})})}},373:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Left Button.0b9d3a76.svg"},374:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Right Button.648b272c.svg"}}]);
//# sourceMappingURL=102.5fc59431.chunk.js.map