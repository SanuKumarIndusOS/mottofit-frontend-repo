{"version":3,"sources":["component/AdminDashboard/AdminComponents/AdminTrainerSection/index.js","component/AdminDashboard/AdminComponents/AdminDashboardList/index.js","helpers/baseURL.js","action/adminAct.js"],"names":["AdminTrainerSection","connect","dispatch","bindActionCreators","changeApproval","props","React","useState","trainerList","setTrainerList","fetchAllTrainers","fetch","COMMON_URL","method","headers","Headers","Authorization","localStorage","getItem","then","response","json","data","ChangeApproval","id","state","trainerStatus","catch","error","console","useEffect","className","map","item","approve","onClick","AdminDashboard","noTrainer","setNoTrainer","noUser","setNoUser","loading","setLoading","total","MESSAGING_URL","SESSION_URL","NOTIFICATION_URL","PAYMENT_URL","body","getState","api","Promise","resolve","reject","TrainerApi","err","getTrainerDetail","isAdmin"],"mappings":"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","file":"static/js/54.b2703353.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./styles.scss\";\r\nimport { COMMON_URL } from \"helpers/baseURL\";\r\nimport { changeApproval } from \"action/adminAct\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nconst AdminTrainerSectionClass = (props) => {\r\n  const [trainerList, setTrainerList] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    fetchAllTrainers();\r\n  }, []);\r\n\r\n  function fetchAllTrainers() {\r\n    fetch(`${COMMON_URL}/v1/admin/trainers?limit=20&page=1`, {\r\n      method: \"get\",\r\n      headers: new Headers({\r\n        Authorization: localStorage.getItem(\"admin-token\"),\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setTrainerList(data[\"data\"][\"list\"]);\r\n      });\r\n  }\r\n\r\n  function ChangeApproval(id, state) {\r\n    const data = { trainerStatus: state };\r\n\r\n    props\r\n      .changeApproval(data, id)\r\n      .then(() => {\r\n        fetchAllTrainers();\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error:\", error);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className=\"outter_container_AD\">\r\n      <div className=\"container\">\r\n        <h2>Admin Overall Data</h2>\r\n        <br></br>\r\n        <h3>Trainer List</h3>\r\n        <div className=\"admin\">\r\n          <div className=\"tariner_info\">\r\n            <div className=\"tariner_info_item_heading\">Name</div>\r\n            <div className=\"tariner_info_item_heading\">Email</div>\r\n            <div className=\"tariner_info_item_heading\">Trainer Status</div>\r\n            <div className=\"tariner_info_item_heading\">Action</div>\r\n          </div>\r\n\r\n          {trainerList.map((item) => {\r\n            var approve;\r\n            if (item[\"trainerStatus\"] === \"approved\") {\r\n              approve = (\r\n                <div onClick={() => ChangeApproval(item[\"id\"], \"disapproved\")}>\r\n                  Disapprove\r\n                </div>\r\n              );\r\n            } else {\r\n              approve = (\r\n                <div onClick={() => ChangeApproval(item[\"id\"], \"approved\")}>\r\n                  Approve\r\n                </div>\r\n              );\r\n            }\r\n\r\n            return (\r\n              <div className=\"trainer_info\">\r\n                <div className=\"tariner_info_item\">{item[\"firstName\"]}</div>\r\n                <div className=\"tariner_info_item\">{item[\"email\"]}</div>\r\n                <div className=\"tariner_info_item\">{item[\"trainerStatus\"]}</div>\r\n                <div className=\"tariner_info_item\">\r\n                  {\" \"}\r\n                  <button className=\"tariner_info_button\">\r\n                    {approve}\r\n                  </button>{\" \"}\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      changeApproval,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nconst AdminTrainerSection = connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(AdminTrainerSectionClass);\r\n\r\nexport default AdminTrainerSection;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport AdminTrainerSection from \"../AdminTrainerSection\";\r\nimport \"./styles.scss\";\r\nimport { COMMON_URL } from \"helpers/baseURL\";\r\n\r\nconst AdminDashboard = () => {\r\n  const [noTrainer, setNoTrainer] = useState([]);\r\n  const [noUser, setNoUser] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchNoTrainers();\r\n    fetchNoUsers();\r\n  }, []);\r\n\r\n  function fetchNoTrainers() {\r\n    setLoading(true);\r\n\r\n    fetch(`${COMMON_URL}/v1/admin/trainers?limit=10&page=1`, {\r\n      method: \"get\",\r\n      headers: new Headers({\r\n        Authorization: localStorage.getItem(\"admin-token\"),\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setNoTrainer(data[\"data\"][\"pageMetaData\"]);\r\n        setLoading(false);\r\n      });\r\n  }\r\n\r\n  function fetchNoUsers() {\r\n    setLoading(true);\r\n\r\n    fetch(`${COMMON_URL}/v1/admin/users?limit=5&page=2`, {\r\n      method: \"get\",\r\n      headers: new Headers({\r\n        Authorization: localStorage.getItem(\"admin-token\"),\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setNoUser(data[\"data\"][\"pageMetaData\"]);\r\n        setLoading(false);\r\n      });\r\n  }\r\n  return (\r\n    <div className=\"outter_container_AD\">\r\n      <div className=\"container\">\r\n        <h2>Admin Dashboard</h2>\r\n        <div className=\"inner_AD\">\r\n          <div className=\"wrapper_AD\">\r\n            <div className=\"AD_views\">\r\n              <div className=\"views_AD\">\r\n                <p>No of</p>\r\n                <h3>\r\n                  User's :\r\n                  {loading ? (\r\n                    <span>Loading...</span>\r\n                  ) : (\r\n                    <span> {noUser.total}</span>\r\n                  )}\r\n                </h3>\r\n              </div>\r\n              <div className=\"views_AD\">\r\n                <p>No of</p>\r\n                <h3>\r\n                  Trainer's :\r\n                  {loading ? (\r\n                    <span>Loading...</span>\r\n                  ) : (\r\n                    <span> {noTrainer.total}</span>\r\n                  )}\r\n                </h3>\r\n              </div>\r\n              <div className=\"views_AD\">\r\n                <p>No of</p>\r\n                <h3>\r\n                  Page Views : <span>300</span>\r\n                </h3>\r\n              </div>\r\n              <div className=\"views_AD\">\r\n                <h3>\r\n                  Revenue : <span>$100</span>\r\n                </h3>{\" \"}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <AdminTrainerSection />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n","export var COMMON_URL = \"https://apis.bookmotto.com/user\";\r\nexport var MESSAGING_URL = \"https://apis.bookmotto.com/messaging\";\r\nexport var SESSION_URL = \"https://apis.bookmotto.com/session\";\r\nexport var NOTIFICATION_URL = \"\"\r\nexport var PAYMENT_URL = \"https://apis.bookmotto.com/payments\";","import { TrainerApi } from \"service/apiVariables\";\r\n\r\n//change Approval\r\nexport const changeApproval =\r\n  (body, id) =>\r\n  (dispatch, getState, { api }) => {\r\n    return new Promise((resolve, reject) => {\r\n      const { changeApproval } = TrainerApi;\r\n      changeApproval.id = id;\r\n      api({ ...changeApproval, body })\r\n        .then(({ data }) => {\r\n          resolve(data);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  };\r\n\r\n//get Trainer Detail\r\nexport const getTrainerDetail =\r\n  (id, isAdmin = true) =>\r\n  (dispatch, getState, { api }) => {\r\n    return new Promise((resolve, reject) => {\r\n      const { getTrainerDetail } = TrainerApi;\r\n      getTrainerDetail.id = id;\r\n      api({ ...getTrainerDetail, isAdmin })\r\n        .then(({ data }) => {\r\n          resolve(data);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  };\r\n"],"sourceRoot":""}