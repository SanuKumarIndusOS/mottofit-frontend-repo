(this.webpackJsonpmotto=this.webpackJsonpmotto||[]).push([[18,111,225,232,286,302,303,327,328,329,330,331,376],{165:function(e,t,a){"use strict";a.r(t);var i=a(14),n=a(2),c=a.n(n),r=(a(579),a(443)),s=a(385),l=a(8),d=a(82),o=a(274),u=a(33),j=a(21),b=a(38),f=a(83),m=a(13),h=(a(19),a(1)),O=function(e){var t=e.trainerName;return Object(h.jsx)("div",{className:"schedular_slots_user",children:Object(h.jsxs)("div",{className:"items_slots_user",children:[Object(h.jsxs)("div",{className:"item_slot1_user",children:[Object(h.jsx)("div",{className:"indicator"}),Object(h.jsx)("h5",{children:"AVAILABLE"})]}),Object(h.jsxs)("div",{className:"item_slot2_user",children:[Object(h.jsx)("div",{className:"indicator2"}),Object(h.jsx)("h5",{children:"UNAVAILABLE"})," "]}),Object(h.jsxs)("div",{className:"item_slot3_user",children:[Object(h.jsx)("div",{className:"indicator3"}),Object(h.jsx)("h5",{children:"BOOKED SLOT"})," "]}),Object(h.jsx)("div",{className:"item_slot5_user",children:Object(h.jsxs)(l.a,{to:"/trainer/profile/".concat(null===t||void 0===t?void 0:t.id),children:["Learn more about ",null===t||void 0===t?void 0:t.firstName]})})]})})},v=Object(u.b)((function(e){return{selectedTrainerData:e.userReducer.selectedTrainerData,bookingData:e.userReducer.bookingData,selectedTimes:e.userReducer.selectedTimes,query:e.trainerReducer.query}}),(function(e){return Object(j.b)({updateUserDetails:b.updateUserDetails},e)}))((function(e){var t,a=c.a.useState(""),n=Object(i.a)(a,2),u=n[0],j=n[1],b=c.a.useState(""),v=Object(i.a)(b,2),x=v[0],p=v[1],y=c.a.useState(),g=Object(i.a)(y,2),_=g[0],D=g[1],M=c.a.useState(),k=Object(i.a)(M,2),N=k[0],T=k[1],Y=c.a.useState({}),C=Object(i.a)(Y,2),S=C[0],A=C[1],P=c.a.useState(),B=Object(i.a)(P,2),E=B[0],w=B[1];console.log(u,"trainerName"),c.a.useEffect((function(){var t;if(!localStorage.getItem("token")){return e.updateUserDetails({isModelOpen:!0}),m.history.push("/welcome?".concat(encodeURIComponent("nextPath=/user/scheduler")))}if(!q.trainerId)return m.history.push("/trainer/find");if(j(q.trainerData),console.log(q.trainerData),console.log(localStorage.getItem("trainertime"),"ee"),(null===e||void 0===e||null===(t=e.query)||void 0===t?void 0:t.trainingType)&&p(e.query.trainingType),e.bookingData){var a,i,n,c,r,s,l,d;(null===(a=e.bookingData)||void 0===a?void 0:a.start_slot)&&D(null===(i=e.bookingData)||void 0===i?void 0:i.start_slot),(null===(n=e.bookingData)||void 0===n?void 0:n.end_slot)&&T(null===(c=e.bookingData)||void 0===c?void 0:c.end_slot),(null===(r=e.bookingData)||void 0===r?void 0:r.date)&&w(null===(s=e.bookingData)||void 0===s?void 0:s.date);var o={startDate:Object(f.getFormatDate)(null===(l=e.bookingData)||void 0===l?void 0:l.start_slot,"hh:mm AYYYY-MM-DD"),endDate:Object(f.getFormatDate)(null===(d=e.bookingData)||void 0===d?void 0:d.end_slot,"hh:mm AYYYY-MM-DD")};A(o)}}),[]);var q=e.selectedTrainerData;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"event_outter_container",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"event_inner_container",children:[Object(h.jsxs)("div",{className:"link_wrapper",children:[Object(h.jsx)("img",{src:s.default,alt:"icon"}),Object(h.jsxs)("div",{className:"inner_links",children:[Object(h.jsx)(l.a,{to:"/trainer/find",children:"Choose another Trainer"}),Object(h.jsx)("div",{})]})]}),Object(h.jsx)("div",{className:"event_wrapper",children:Object(h.jsxs)("div",{className:"event_wrapper_inner",children:[Object(h.jsxs)("div",{className:"event_header",children:[Object(h.jsx)("h2",{children:"Schedule your Training Time"}),Object(h.jsx)("p",{children:"Please select a preferable date and time slot to schedule your training session. All the listed timings are in your local timezone (GMT + 5:30)"})]}),Object(h.jsxs)("div",{className:"user_profile_details",children:[Object(h.jsx)("img",{src:(null===q||void 0===q||null===(t=q.trainerData)||void 0===t?void 0:t.profilePicture)||r.default,alt:"profile",style:{objectFit:"cover"}}),Object(h.jsxs)("div",{className:"user_content",children:[Object(h.jsx)("h2",{style:{textTransform:"capitalize",fontFamily:"Cormorant Garamond"},children:null===u||void 0===u?void 0:u.firstName}),Object(h.jsx)("p",{style:{color:"#898989",fontFamily:"Montserrat",textTransform:"uppercase"},children:null===x||void 0===x?void 0:x.value})]})]}),Object(h.jsx)(o.default,{id:q.trainerId,parentCallback:function(e,t,a){console.log(e,t,"Callback"),D(e),T(t),w(a)},startTime:null===S||void 0===S?void 0:S.startDate,endTime:null===S||void 0===S?void 0:S.endDate,updateUserDetails:e.updateUserDetails,selectedTimes:e.selectedTimes}),Object(h.jsx)(O,{trainerName:u}),Object(h.jsxs)(l.a,{className:"submit_user ".concat(e.selectedTimes.length>0?"":"disable-btn"),onClick:function(){var t={bookingData:{Name:u,start_slot:_,end_slot:N,date:E,activity:x,id:q.trainerId}};e.updateUserDetails(t),m.history.push("/user/session-type")},style:{marginBottom:"500px"},children:["CONTINUE ",Object(h.jsx)(d.default,{})," "]})]})})]})})})})}));t.default=v},274:function(e,t,a){"use strict";a.r(t);var i=a(213),n=a(14),c=a(2),r=a.n(c),s=a(214),l=a.n(s),d=a(408),o=a(409),u=(a(748),a(477),a(426)),j=a(430),b=a(428),f=a(427),m=a(429),h=a(38),O=a(33),v=a(21),x=(a(83),a(61)),p=a(1),y=[{label:"Early Bird",value:"EarlyBird"},{label:"Rise & Shine",value:"RiseAndShine"},{label:"Mid-Day Break",value:"MidDayBreak1"},{label:"Mid-Day Lunchtime",value:"MidDayBreak2"},{label:"Happy Hour",value:"HappyHours"},{label:"Never Too Late",value:"NeverTooLate"}];var g=Object(O.b)((function(e){return{queryObject:e.trainerReducer.query}}),(function(e){return Object(v.b)({getCalenderDetails:h.getCalenderDetails,updateTrainerDetails:x.updateTrainerDetails},e)}))((function(e){var t=["05:00 AM","05:30 AM","06:00 AM","06:30 AM","07:00 AM","07:30 AM","Early Bird",u.default],a=["08:00 AM","08:30 AM","09:00 AM","09:30 AM","10:00 AM","10:30 AM","Rise & Shine",j.default],s=["11:00 AM","11:30 AM","12:00 PM","12:30 PM","01:00 PM","01:30 PM","Mid-Day Break",b.default],h=["02:00 PM","02:30 PM","03:00 PM","03:30 PM","04:00 PM","04:30 PM","Mid-Day Lunchtime",b.default],O=["05:00 PM","05:30 PM","06:00 PM","06:30 PM","07:00 PM","07:30 PM","Happy Hour",f.default],v=["08:00 PM","08:30 PM","09:00 PM","09:30 PM","10:00 PM","10:30 PM","Never Too Late",m.default],x=r.a.useState(t),g=Object(n.a)(x,2),_=g[0],D=g[1],M=r.a.useState("EarlyBird"),k=Object(n.a)(M,2),N=k[0],T=k[1],Y=r.a.useState([]),C=Object(n.a)(Y,2),S=C[0],A=C[1],P=r.a.useState([]),B=Object(n.a)(P,2),E=(B[0],B[1]),w=r.a.useState([]),q=Object(n.a)(w,2),L=q[0],R=q[1],I=r.a.useState([[!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1]]),U=Object(n.a)(I,2),H=U[0],F=(U[1],r.a.useState([])),W=Object(n.a)(F,2),z=W[0],G=W[1],J=r.a.useState(l()().startOf("isoWeek")),V=Object(n.a)(J,2),K=V[0],Q=V[1],X=r.a.useState(l()().endOf("isoWeek")),Z=Object(n.a)(X,2),$=Z[0],ee=Z[1],te=new Object,ae=new Object,ie=r.a.useState([]),ne=Object(n.a)(ie,2),ce=ne[0],re=ne[1],se=r.a.useState(),le=Object(n.a)(se,2),de=le[0],oe=le[1],ue=r.a.useState(),je=Object(n.a)(ue,2),be=je[0],fe=je[1];Object(c.useEffect)((function(){ve(K,$),me(K,$),window.scrollTo(0,0)}),[]),Object(c.useEffect)((function(){var t;2===(null===e||void 0===e||null===(t=e.selectedTimes)||void 0===t?void 0:t.length)&&R(e.selectedTimes)}),[e.selectedTimes]),Object(c.useEffect)((function(){E([]),ve(K,$),me(K,$)}),[_]),Object(c.useEffect)((function(){var e;Object.keys(ce).map((function(e){te[ce[e].slotDate]=ce[e].availabileTimes})),Object.keys(te).map((function(t){e=[],te[t].map((function(t){e.push(t.start)})),ae[t]=e})),oe(ae),fe(Object.keys(ae))}),[ce]),Object(c.useEffect)((function(){A([]),_.map((function(e){var t=[];z.map((function(a){t.push({date:a,time:e})})),A((function(e){return[].concat(Object(i.a)(e),[t])}))}))}),[z]),Object(c.useEffect)((function(){E([]),H.map((function(e,t){var a=[];0!==t&&(e.map((function(e,t){!0===e&&a.push(t-1)})),E((function(e){return[].concat(Object(i.a)(e),[a])})))}))}),[H]);var me=function(e,t){A([]);for(var a=e.clone(),n=[];a.isSameOrBefore(t);)n.push(a.format("YYYY-MM-DD")),a.add(1,"days");G(n),0===S.length&&_.map((function(e){var t=[];n.map((function(a){t.push({date:a,time:e})})),A((function(e){return[].concat(Object(i.a)(e),[t])}))}))};function he(t,a){var i=[],n=de[t];i.push(a+t);var c,r=l()(a,"hh:mm A").add(30,"minutes").format("hh:mm A"),s=l()("".concat(t," ").concat(a),"YYYY-MM-DD hh:mm").valueOf();if(n.find((function(e){return e===r}))){i.push(r+t),c=l()("".concat(t," ").concat(a),"YYYY-MM-DD hh:mm").add(60,"minutes").valueOf(),console.log(i,"cellCollection1");var d={selectedTimes:i};(null===e||void 0===e?void 0:e.updateUserDetails)&&(null===e||void 0===e||e.updateUserDetails(d)),e.parentCallback(s,c,t)}else{var o=l()(r,"hh:mm A").subtract(60,"minutes").format("hh:mm A");i.push(o+t),c=l()("".concat(t," ").concat(a),"YYYY-MM-DD hh:mm").subtract(30,"minutes").valueOf(),s=l()("".concat(t," ").concat(a),"YYYY-MM-DD hh:mm").add(30,"minutes").valueOf(),console.log(i,"cellCollection1");var u={selectedTimes:i};e.updateUserDetails(u),e.parentCallback(c,s,t)}R(i)}Object(c.useEffect)((function(){me(K,$)}),[L]);var Oe,ve=function(t,a){var i=t.format("YYYY-MM-DD"),n=a.format("YYYY-MM-DD");e.id&&e.getCalenderDetails(e.id,i,n,N).then((function(e){var t=e.data;re(t)}))};return Object(c.useEffect)((function(){var i,n,c=null===(i=e.queryObject)||void 0===i||null===(n=i.availability)||void 0===n?void 0:n.value;console.log(c,N);var r={};if(c&&N!==c){switch(T(c),c){case"EarlyBird":D(t);break;case"RiseAndShine":D(a);break;case"MidDayBreak1":D(s);break;case"MidDayBreak2":D(h);break;case"HappyHours":D(O);break;case"NeverTooLate":D(v);break;default:D(t)}r=y.filter((function(e){return e.value===c}))[0],console.log(r)}else r=y.filter((function(e){return"EarlyBird"===e.value}))[0],console.log(r);var l={query:{location:e.queryObject.location,date:e.queryObject.date,trainingType:e.queryObject.trainingType,availability:r,city:e.queryObject.city}};e.updateTrainerDetails(l)}),[]),0===S.length||(Oe=Object(p.jsxs)("table",{children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsxs)("th",{style:{height:"70px"},children:[Object(p.jsx)("img",{src:_[7],style:{width:"30px",height:"30px"}}),Object(p.jsxs)("h6",{style:{wordWrap:"break-word",lineHeight:"18px",paddingLeft:"0.5em",paddingRight:"0.5em",paddingBottom:"0em",fontFamily:"Montserrat",fontWeight:"600",color:"#898989",margin:0},children:[" ",_[6]]})]}),Object(p.jsxs)("th",{children:[Object(p.jsx)("div",{className:"table_header_number",children:z[0].slice(8,10)}),Object(p.jsx)("div",{className:"table_header_txt",children:"MON"})]}),Object(p.jsxs)("th",{children:[Object(p.jsx)("div",{className:"table_header_number",children:z[1].slice(8,10)}),Object(p.jsx)("div",{className:"table_header_txt",children:"TUES"})]}),Object(p.jsxs)("th",{children:[Object(p.jsx)("div",{className:"table_header_number",children:z[2].slice(8,10)}),Object(p.jsx)("div",{className:"table_header_txt",children:"WED"})]}),Object(p.jsxs)("th",{children:[Object(p.jsx)("div",{className:"table_header_number",children:z[3].slice(8,10)}),Object(p.jsx)("div",{className:"table_header_txt",children:"THURS"})]}),Object(p.jsxs)("th",{children:[Object(p.jsx)("div",{className:"table_header_number",children:z[4].slice(8,10)}),Object(p.jsx)("div",{className:"table_header_txt",children:"FRI"})]}),Object(p.jsxs)("th",{children:[Object(p.jsx)("div",{className:"table_header_number",children:z[5].slice(8,10)}),Object(p.jsx)("div",{className:"table_header_txt",children:"SAT"})]}),Object(p.jsxs)("th",{children:[Object(p.jsx)("div",{className:"table_header_number",children:z[6].slice(8,10)}),Object(p.jsx)("div",{className:"table_header_txt",children:"SUN"})]})]})}),Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"user_time_slot",children:_[0]}),S[0].map((function(e){return 0!==be.length&&be.find((function(t){return t===e.date}))&&de[e.date].find((function(t){return t===e.time}))?L.find((function(t){return t===e.time+e.date}))?Object(p.jsx)("td",{style:{backgroundColor:"#53bfd2"},onClick:function(){return he(e.date,e.time)},className:"avaiable_slot",children:e.time}):Object(p.jsx)("td",{style:{backgroundColor:"#fff"},onClick:function(){return he(e.date,e.time)}}):Object(p.jsx)("td",{})}))]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"user_time_slot",children:_[1]}),S[1].map((function(e){return 0!==be.length&&be.find((function(t){return t===e.date}))&&de[e.date].find((function(t){return t===e.time}))?L.find((function(t){return t===e.time+e.date}))?Object(p.jsx)("td",{style:{backgroundColor:"#53bfd2"},onClick:function(){return he(e.date,e.time)},className:"avaiable_slot"}):Object(p.jsx)("td",{style:{backgroundColor:"#fff"},onClick:function(){return he(e.date,e.time)}}):Object(p.jsx)("td",{})}))]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"user_time_slot",children:_[2]}),S[2].map((function(e){return 0!==be.length&&be.find((function(t){return t===e.date}))&&de[e.date].find((function(t){return t===e.time}))?L.find((function(t){return t===e.time+e.date}))?Object(p.jsx)("td",{style:{backgroundColor:"#53bfd2"},onClick:function(){return he(e.date,e.time)}}):Object(p.jsx)("td",{style:{backgroundColor:"#fff"},onClick:function(){return he(e.date,e.time)}}):Object(p.jsx)("td",{})}))]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"user_time_slot",children:_[3]}),S[3].map((function(e){return 0!==be.length&&be.find((function(t){return t===e.date}))&&de[e.date].find((function(t){return t===e.time}))?L.find((function(t){return t===e.time+e.date}))?Object(p.jsx)("td",{style:{backgroundColor:"#53bfd2"},onClick:function(){return he(e.date,e.time)}}):Object(p.jsx)("td",{style:{backgroundColor:"#fff"},onClick:function(){return he(e.date,e.time)}}):Object(p.jsx)("td",{})}))]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"user_time_slot",children:_[4]}),S[4].map((function(e){return 0!==be.length&&be.find((function(t){return t===e.date}))&&de[e.date].find((function(t){return t===e.time}))?L.find((function(t){return t===e.time+e.date}))?Object(p.jsx)("td",{style:{backgroundColor:"#53bfd2"},onClick:function(){return he(e.date,e.time)}}):Object(p.jsx)("td",{style:{backgroundColor:"#fff"},onClick:function(){return he(e.date,e.time)}}):Object(p.jsx)("td",{})}))]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"user_time_slot",children:_[5]}),S[5].map((function(e){return 0!==be.length&&be.find((function(t){return t===e.date}))&&de[e.date].find((function(t){return t===e.time}))?L.find((function(t){return t===e.time+e.date}))?Object(p.jsx)("td",{style:{backgroundColor:"#53bfd2"},onClick:function(){return he(e.date,e.time)}}):Object(p.jsx)("td",{style:{backgroundColor:"#fff"},onClick:function(){return he(e.date,e.time)}}):Object(p.jsx)("td",{})}))]})]})]})),Object(p.jsxs)("div",{className:"outter_table_user",children:[Object(p.jsx)("div",{className:"table_user",children:Object(p.jsxs)("div",{className:"table_inner_trainer",children:[Object(p.jsxs)("div",{className:"table_date",children:[l()(K.format("YYYY-MM-DD")).isAfter(l()().startOf("isoWeek").format("YYYY-MM-DD"),"day")?Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{src:d.default,onClick:function(){Q(K.subtract(7,"days")),ee($.subtract(7,"days")),ve(K,$),me(K,$)},style:{cursor:"pointer"}})," ","\u2002"]}):Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{src:d.default,disabled:!0,style:{opacity:"0.5",cursor:"not-allowed"}})," ","\u2002"]}),"\u2002",Object(p.jsxs)("div",{className:"date_week",children:[K.format("DD")," - ",$.format("DD")," \u2002",K.format("MMMM")," \u2002 ",K.format("yyyy")," "]}),Object(p.jsx)("img",{src:o.default,onClick:function(){Q(K.add(7,"days")),ee($.add(7,"days")),ve(K,$),me(K,$)},style:{cursor:"pointer"}})," ","\u2002 \u2002"]}),Object(p.jsx)("select",{value:N,name:"TimeSlot",onChange:function(i){var n=i.target.value;T(n),"EarlyBird"===n&&D(t),"RiseAndShine"===n&&D(a),"MidDayBreak1"===n&&D(s),"MidDayBreak2"===n&&D(h),"HappyHours"===n&&D(O),"NeverTooLate"===n&&D(v);var c=y.filter((function(e){return e.value===n}))[0],r={query:{location:e.queryObject.location,date:e.queryObject.date,trainingType:e.queryObject.trainingType,availability:c}};e.updateTrainerDetails(r)},children:y.map((function(e,t){return Object(p.jsx)("option",{value:e.value,children:e.label},t)}))})]})}),Object(p.jsx)("br",{}),Oe]})}));t.default=g},385:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Arrow Back.d3693c0f.svg"},408:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Left Button.0b9d3a76.svg"},409:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Right Button.648b272c.svg"},426:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/EarlyBird_Inactive.8646c23c.svg"},427:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/HappyHour_Inactive.bef73318.svg"},428:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Mid-DayBreak_Inactive.edab2351.svg"},429:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/NeverTooLate_Inactive.0ac0364d.svg"},430:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Rise_Shine_Inactive.fb11fce5.svg"},443:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Profile Picture.ca592372.png"},477:function(e,t,a){},579:function(e,t,a){}}]);
//# sourceMappingURL=18.c2b04c48.chunk.js.map