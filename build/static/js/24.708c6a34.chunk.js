(this.webpackJsonpmotto=this.webpackJsonpmotto||[]).push([[24,229,355,356,451],{172:function(e,t,s){"use strict";s.r(t);var a=s(48),c=s(89),i=s(28),n=s(4),l=s(11),r=s(2),o=s.n(r),d=(s(591),s(752)),j=(s(750),s(411)),b=s(430),h=s(9),u=s(54),m=s(410),v=s(63),O=s(36),x=s(24),p=s(20),_=s(90),g=s(15),S=s(91),N=s(31),f=s(42),w=s(65),P=s(1),T=function(e){var t=e.datas,s=void 0===t?[]:t,a=e.handleSessionStatus,c=e.handleCancel,i=(e.isLoading,e.handlePagination),n=(e.pageSize,e.documentSize),d=Object(r.useState)([3]),j=Object(l.a)(d,2);j[0],j[1],Math.ceil(n/10);return Object(P.jsxs)("div",{className:"tabPanel_overview d-flex",children:[Object(P.jsx)("div",{className:"tabPanel_overview_left w-100",children:Object(P.jsxs)("div",{className:"TP_overview_wrapper",children:[Object(P.jsx)("h3",{children:"Upcoming Sessions"}),Object(P.jsxs)("div",{className:"TP_US_overview",children:[Object(P.jsx)("div",{className:"TP_US_overview_inner",children:s.length>0?s.map((function(e,t){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{className:"TP_upcomeSession_overview",children:[Object(P.jsx)("div",{className:"TP_USession_dates",children:Object(P.jsxs)("h4",{children:[e.date,Object(P.jsx)("span",{children:e.month})]})}),Object(P.jsxs)("div",{className:"TP_USession_data",children:[Object(P.jsx)("h2",{className:"text-capitalize",children:e.heading}),Object(P.jsxs)("div",{className:"TP_USession_data_icons",children:[Object(P.jsxs)("h5",{children:[Object(P.jsx)("img",{src:e.imgAva,alt:"icon"}),e.avaTime]}),Object(P.jsxs)("h5",{className:"text-capitalize",children:[Object(P.jsx)("img",{src:e.imgLoc,alt:"icon"}),e.loc]})]}),Object(P.jsxs)("div",{className:"d-flex align-items-center mt-2 TP_USession_data_buttons",children:["cancelled"!==e.sessionStatus?Object(P.jsx)("button",{onClick:function(){return c(e.id)},className:"mr-2",children:"Cancel"}):Object(P.jsx)("div",{className:"d-flex align-items-center",children:Object(P.jsx)("p",{className:"text-danger text-underline mb-0 fs-15 fw-600 mr-2",children:"Cancelled"})}),"completed"!==e.sessionStatus?Object(P.jsx)("div",{className:"TP_USession_data_buttons mt-0",children:Object(P.jsx)("button",{className:"text-primary",onClick:function(){return a(e.id,"completed")},children:"Complete"})}):Object(P.jsx)("div",{children:Object(P.jsx)("p",{children:"Completed"})})]})]})]},t),Object(P.jsx)("hr",{})]})})):Object(P.jsx)("h3",{className:"my-5 py-5 text-center",children:"No Data Found"})}),(null===s||void 0===s?void 0:s.length)<n&&Object(P.jsxs)("button",{onClick:i,className:"viewMoreButton",children:["View all Session ",Object(P.jsx)(u.default,{})]})]})]})}),Object(P.jsx)("div",{className:"tabPanel_overview_right",children:Object(P.jsx)("div",{className:"TB_overview_right",children:Object(P.jsx)("div",{className:"TB_overview_row_two",children:Object(P.jsxs)("div",{className:"row_two_data",children:[Object(P.jsx)("h2",{children:"PREVIOUS SESSIONS"}),Object(P.jsx)("div",{className:"row_two_scroll",children:s.length>0?s.map((function(e,t){return Object(P.jsxs)(o.a.Fragment,{children:[Object(P.jsxs)("div",{className:"row_previous_data",children:[Object(P.jsx)("div",{className:"row_previous_avater",children:Object(P.jsx)("img",{src:e.previousImg,alt:"profile"})}),Object(P.jsxs)("div",{className:"row_previous_header",children:[Object(P.jsx)("h2",{className:"text-capitalize",children:e.heading}),Object(P.jsx)("p",{children:e.prevDate})]})]}),Object(P.jsx)("hr",{})]},t)})):Object(P.jsx)("h3",{className:"my-5 py-5 text-center",children:"No Data Found"})})]})})})})]})},D=function(e){var t=e.datas,s=void 0===t?[]:t,a=e.handleSessionStatus,c=e.handleCancel,i=e.handlePagination,n=(e.pageSize,e.documentSize),o=Object(r.useState)([3]),d=Object(l.a)(o,2);d[0],d[1],Math.ceil(n/10);return Object(P.jsx)("div",{className:"tabPanel_overview d-flex",children:Object(P.jsx)("div",{className:"tabPanel_overview_left w-100",children:Object(P.jsxs)("div",{className:"TP_overview_wrapper",children:[Object(P.jsx)("h3",{children:"Upcoming Sessions"}),Object(P.jsxs)("div",{className:"TP_US_overview",children:[Object(P.jsx)("div",{className:"TP_US_overview_inner",children:s.length>0?s.map((function(e,t){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{className:"TP_upcomeSession_overview",children:[Object(P.jsx)("div",{className:"TP_USession_dates",children:Object(P.jsxs)("h4",{children:[e.date,Object(P.jsx)("span",{children:e.month})]})}),Object(P.jsxs)("div",{className:"TP_USession_data",children:[Object(P.jsx)("h2",{className:"text-capitalize",children:e.heading}),Object(P.jsxs)("div",{className:"TP_USession_data_icons",children:[Object(P.jsxs)("h5",{children:[Object(P.jsx)("img",{src:e.imgAva,alt:"icon"}),e.avaTime]}),Object(P.jsxs)("h5",{className:"text-capitalize",children:[Object(P.jsx)("img",{src:e.imgLoc,alt:"icon"}),e.loc]})]}),"completed"!==e.sessionStatus?Object(P.jsxs)("div",{className:"TP_USession_data_buttons",children:[Object(P.jsx)("button",{onClick:function(){return c(e.id)},children:"Cancel"}),Object(P.jsx)("button",{className:"text-primary",onClick:function(){return a(e.id,"completed")},children:"Complete"})]}):Object(P.jsx)("div",{children:Object(P.jsx)("p",{children:"Completed"})})]})]},t),Object(P.jsx)("hr",{})]})})):Object(P.jsx)("h3",{className:"my-5 py-5 text-center",children:"No Data Found"})}),(null===s||void 0===s?void 0:s.length)<n&&Object(P.jsxs)("button",{onClick:i,className:"viewMoreButton",children:["View all Session ",Object(P.jsx)(u.default,{})]})]})]})})})},C=function(){return Object(P.jsx)("div",{className:"tabPanel_overview",children:Object(P.jsx)("div",{className:"tabPanel_overview_right",children:Object(P.jsx)("div",{className:"TB_overview_right",children:Object(P.jsx)("div",{className:"TB_overview_row_one",children:Object(P.jsxs)("div",{className:"row_one_data",children:[Object(P.jsx)("h2",{children:"Want to Do More for Less?"}),Object(P.jsx)("p",{children:"Save money by purchasing multiple sessions at once, eligible for use within 60 days of the purchase date."}),Object(P.jsxs)(h.a,{to:"/",children:["Get A pass ",Object(P.jsx)(u.default,{})," "]})]})})})})})},U=function(e){var t=e.tabname,s=e.tabData,c=e.prevData,i=e.cancelSessionApi,d=(e.invitationApi,e.handleChange),h=void 0===d?{}:d,m=(e.isDefaultCardPresent,e.handleSessionStatus),v=e.handlePagination,O=(e.pageSize,e.documentSize),x=e.currentTab,p=(Object(a.a)(e,["tabname","tabData","prevData","cancelSessionApi","invitationApi","handleChange","isDefaultCardPresent","handleSessionStatus","handlePagination","pageSize","documentSize","currentTab"]),Object(r.useState)([3])),_=Object(l.a)(p,2),g=(_[0],_[1],Object(r.useState)(!1)),S=Object(l.a)(g,2),N=(S[0],S[1]);Math.ceil(O/10);return Object(P.jsxs)("div",{className:"tabPanel_overview",children:[Object(P.jsx)("div",{className:"tabPanel_overview_left",children:Object(P.jsxs)("div",{className:"TP_overview_wrapper",children:[Object(P.jsxs)("h3",{style:{textTransform:"capitalize"},children:[t," Sessions"]}),Object(P.jsxs)("div",{className:"TP_US_overview",children:[Object(P.jsx)("div",{className:"TP_US_overview_inner",children:s.length>0?null===s||void 0===s?void 0:s.map((function(e,s){return Object(P.jsxs)(o.a.Fragment,{children:[Object(P.jsxs)("div",{className:"TP_upcomeSession_overview",children:[Object(P.jsx)("div",{className:"TP_USession_dates",children:Object(P.jsxs)("h4",{children:[e.date,Object(P.jsx)("span",{children:e.month})]})}),Object(P.jsxs)("div",{className:"TP_USession_data",children:[Object(P.jsx)("h2",{style:{textTransform:"capitalize"},children:null===e||void 0===e?void 0:e.heading}),Object(P.jsxs)("div",{className:"TP_USession_data_icons",children:[Object(P.jsxs)("h5",{children:[Object(P.jsx)("img",{src:j.default,alt:"icon"}),e.avaTime]}),Object(P.jsxs)("h5",{children:[Object(P.jsx)("img",{src:b.default,alt:"icon"}),e.loc]})]}),"Ongoing"!==t&&Object(P.jsx)("div",{className:"TP_USession_data_buttons",children:"completed"!==e.sessionStatus?Object(P.jsx)("div",{className:"TP_USession_data_buttons",children:"cancelled"!==e.sessionStatus?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("button",{onClick:function(){return function(e){var t={sessionId:e,sessionStatus:"cancelled"};N(!0),i(t).then((function(){N(!1),h(x)})).catch((function(){return N(!1)}))}(e.id)},children:"Cancel"}),Object(P.jsx)("button",{className:"text-primary",onClick:function(){return m(e.id,"completed")},children:"Complete"})]}):Object(P.jsx)("div",{children:Object(P.jsx)("p",{className:"text-danger text-underline",children:"Cancelled"})})}):Object(P.jsx)("div",{children:Object(P.jsx)("p",{children:"Completed"})})})]})]}),Object(P.jsx)("hr",{})]},s)})):Object(P.jsx)("div",{className:"w-100 h-100 d-flex align-items-center justify-content-center",children:Object(P.jsx)("h4",{children:"No Data Found"})})}),(null===s||void 0===s?void 0:s.length)<O&&Object(P.jsxs)("button",{onClick:v,className:"viewMoreButton",children:["View all Session ",Object(P.jsx)(u.default,{})]})]})]})}),Object(P.jsx)("div",{className:"tabPanel_overview_right",children:Object(P.jsx)("div",{className:"TB_overview_right",children:Object(P.jsx)("div",{className:"TB_overview_row_two",children:Object(P.jsxs)("div",{className:"row_two_data",children:[Object(P.jsx)("h2",{children:"PREVIOUS SESSIONS"}),Object(P.jsx)("div",{className:"row_two_scroll",children:c.length>0?c.map((function(e,t){var s,a,c,i={profilePicture:null===e||void 0===e||null===(s=e.userDetail)||void 0===s?void 0:s.profilePicture,userName:"".concat((null===e||void 0===e||null===(a=e.userDetail)||void 0===a?void 0:a.firstName)||""," ").concat((null===e||void 0===e||null===(c=e.userDetail)||void 0===c?void 0:c.lastName)||"")};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{className:"row_previous_data",children:[Object(P.jsx)("div",{className:"row_previous_avater ml-2",children:Object(P.jsx)(f.UserAvatar,Object(n.a)(Object(n.a)({},i),{},{className:"img-md-2"}))}),Object(P.jsxs)("div",{className:"row_previous_header",children:[Object(P.jsx)("h2",{className:"text-capitalize",children:e.heading}),Object(P.jsx)("p",{children:e.prevDate})]})]},t),Object(P.jsx)("hr",{})]})})):Object(P.jsx)("h3",{className:"my-5 py-5 text-center",children:"No Data Found"})})]})})})})]})},y=Object(x.b)((function(e){return{sessionData:e.trainerReducer.sessionData}}),(function(e){return Object(p.b)({getTrainerSessionDetailsApi:v.getTrainerSessionDetails,cancelSession:O.cancelSession,updateUserDetails:O.updateUserDetails},e)}))((function(e){e.sessionData;var t=e.getTrainerSessionDetailsApi,s=e.cancelSession,a=e.updateUserDetails,o=Object(r.useState)({upcomingSessions:[],pastSessions:[],invitedSessions:[]}),h=Object(l.a)(o,2),u=h[0],v=h[1],O=Object(r.useState)({upcoming:0,past:0}),x=Object(l.a)(O,2),p=x[0],f=x[1],y=Object(r.useState)({upcoming:0,past:0}),z=Object(l.a)(y,2),F=z[0],I=z[1],A=Object(r.useState)(!1),M=Object(l.a)(A,2),k=M[0],L=M[1],B=Object(r.useState)(!0),E=Object(l.a)(B,2),V=E[0],Y=E[1],J=Object(r.useState)("upcoming"),R=Object(l.a)(J,2),G=R[0],H=R[1],K=function(e){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t(e,p[e]).then((function(t){var a=t.data,l=t.documentCount,r={upcoming:"upcomingSessions",past:"pastSessions"};I((function(t){return Object(n.a)(Object(n.a)({},t),{},Object(i.a)({},e,l))}));var o=null===a||void 0===a?void 0:a.map((function(e){var t=e.title,s=e.venue,a=e.sessionDate,c=e.sessionStartTime,i=e.id,n=e.sessionStatus,l=e.userDetail;return{date:Object(_.getFormatDate)(a,"D"),month:Object(_.getFormatDate)(a,"MMM"),heading:t,imgAva:j.default,avaTime:"".concat(Object(_.getFormatDate)(c,"LT",!0)," EST"),imgLoc:b.default,loc:s,previousImg:m.default,prevHeading:"Yoga with Kane",prevDate:Object(_.getFormatDate)(c,"DD MMMM YYYY",!0),sessionStatus:n,userDetail:l,id:i}}));v((function(t){var a=[].concat(Object(c.a)(t[r[e]]||[]),Object(c.a)(o));return Object(n.a)(Object(n.a)({},t),{},Object(i.a)({},r[e],s?a:o))})),Y(!1)})).catch((function(e){Y(!1),Object(N.Toast)({type:"error",message:e.message||"Error"})}))},W=function(e,t){var s={sessionId:e,sessionStatus:t},a=g.TrainerApi.changeSessionStatus;a.body=s,Object(S.api)(Object(n.a)({},a)).then((function(e){var t=e.data;console.log(t),K(G)})).catch((function(e){console.log(e),Object(N.Toast)({type:"error",message:e.message||""})}))},q=function(e){var t={sessionId:e,sessionStatus:"cancelled"};L(!0),s(t).then((function(){L(!1),K(G)})).catch((function(){return L(!1)}))},Q=function(){f((function(e){return Object(n.a)(Object(n.a)({},e),{},Object(i.a)({},G,e[G]+1||0))}))};return Object(r.useEffect)((function(){K(G,!0)}),[p]),Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{className:"outter_user_container",children:Object(P.jsx)("div",{className:"container",children:Object(P.jsxs)("div",{className:"inner_user_container ",children:[Object(P.jsx)("div",{className:"userSession_heading",children:Object(P.jsx)("h2",{children:"My Session"})}),Object(P.jsx)("div",{className:"US_tabs_wrapper",children:Object(P.jsxs)(d.d,{defaultTab:"upcoming",onChange:function(e,t){var s={upcoming:"upcomingSessions",past:"pastSessions"}[e];H(e),v((function(t){var a;return(null===(a=t[s])||void 0===a?void 0:a.length)>0||(Y(!0),K(e)),t}))},children:[Object(P.jsxs)(d.b,{children:[Object(P.jsx)(d.a,{tabFor:"upcoming",children:"Upcoming"}),Object(P.jsx)(d.a,{tabFor:"past",children:"Previous"})]}),Object(P.jsx)("div",{className:"tabPanel_outter",children:Object(P.jsx)(d.c,{tabId:"overview",children:V?Object(P.jsx)(w.CommonPageLoader,{}):Object(P.jsx)(T,{datas:u.upcomingSessions,handleSessionStatus:W,handleCancel:q,isLoading:k,handlePagination:Q,currentTab:G})})}),Object(P.jsx)("div",{className:"tabPanel_outter",children:Object(P.jsx)(d.c,{tabId:"upcoming",children:V?Object(P.jsx)(w.CommonPageLoader,{}):Object(P.jsx)(D,{datas:u.upcomingSessions,handleSessionStatus:W,handleCancel:q,handlePagination:Q,pageSize:p.upcoming,documentSize:F.upcoming,currentTab:G})})}),Object(P.jsx)("div",{className:"tabPanel_outter",children:Object(P.jsx)(d.c,{tabId:"pass",children:Object(P.jsx)(C,{})})}),Object(P.jsx)("div",{className:"tabPanel_outter",children:Object(P.jsx)(d.c,{tabId:"past",children:V?Object(P.jsx)(w.CommonPageLoader,{}):Object(P.jsx)(U,{tabname:"Previous",tabData:u.pastSessions,prevData:u.pastSessions,handleSessionStatus:W,cancelSessionApi:q,handleChange:function(){return K(G)},updateUserDetails:a,handlePagination:Q,pageSize:p.past,documentSize:F.past,currentTab:G})})}),Object(P.jsx)("div",{className:"tabPanel_outter",children:Object(P.jsx)(d.c,{tabId:"ongoing",children:Object(P.jsx)(U,{tabname:"OnGoing",tabData:u.upcomingSessions,prevData:u.pastSessions,handleSessionStatus:W,cancelSessionApi:q,handleChange:function(){return K(G)},updateUserDetails:a})})})]})})]})})})})}));t.default=y},410:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/Jenny.c50273b9.png"},411:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/Availability Icon.ad0517cb.svg"},430:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/Location Icon.cbb0b32d.svg"},591:function(e,t,s){}}]);